<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          underscore - AsherJia的博客 | AsherJia&#39;s Blog
        
    </title>

    <link rel="canonical" href="http://blog.asherjia.com/2016/05/19/underscore/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Asher&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/news/">News</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="http://blog.asherjia.com/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('home-bg.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#前端工具" title="前端工具">前端工具</a>
                        
                    </div>
                    <h1>underscore</h1>
                    <h2 class="subheading">Github</h2>
                    <span class="meta">
                        Posted by Asher on
                        2016-05-19
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <p><a href="http://www.css88.com/doc/underscore1.8.2/docs/underscore.html" target="_blank" rel="external">http://www.css88.com/doc/underscore1.8.2/docs/underscore.html</a></p>
<h3 id="Underscore-source-code"><a href="#Underscore-source-code" class="headerlink" title="Underscore source code"></a>Underscore source code</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div><div class="line">718</div><div class="line">719</div><div class="line">720</div><div class="line">721</div><div class="line">722</div><div class="line">723</div><div class="line">724</div><div class="line">725</div><div class="line">726</div><div class="line">727</div><div class="line">728</div><div class="line">729</div><div class="line">730</div><div class="line">731</div><div class="line">732</div><div class="line">733</div><div class="line">734</div><div class="line">735</div><div class="line">736</div><div class="line">737</div><div class="line">738</div><div class="line">739</div><div class="line">740</div><div class="line">741</div><div class="line">742</div><div class="line">743</div><div class="line">744</div><div class="line">745</div><div class="line">746</div><div class="line">747</div><div class="line">748</div><div class="line">749</div><div class="line">750</div><div class="line">751</div><div class="line">752</div><div class="line">753</div><div class="line">754</div><div class="line">755</div><div class="line">756</div><div class="line">757</div><div class="line">758</div><div class="line">759</div><div class="line">760</div><div class="line">761</div><div class="line">762</div><div class="line">763</div><div class="line">764</div><div class="line">765</div><div class="line">766</div><div class="line">767</div><div class="line">768</div><div class="line">769</div><div class="line">770</div><div class="line">771</div><div class="line">772</div><div class="line">773</div><div class="line">774</div><div class="line">775</div><div class="line">776</div><div class="line">777</div><div class="line">778</div><div class="line">779</div><div class="line">780</div><div class="line">781</div><div class="line">782</div><div class="line">783</div><div class="line">784</div><div class="line">785</div><div class="line">786</div><div class="line">787</div><div class="line">788</div><div class="line">789</div><div class="line">790</div><div class="line">791</div><div class="line">792</div><div class="line">793</div><div class="line">794</div><div class="line">795</div><div class="line">796</div><div class="line">797</div><div class="line">798</div><div class="line">799</div><div class="line">800</div><div class="line">801</div><div class="line">802</div><div class="line">803</div><div class="line">804</div><div class="line">805</div><div class="line">806</div><div class="line">807</div><div class="line">808</div><div class="line">809</div><div class="line">810</div><div class="line">811</div><div class="line">812</div><div class="line">813</div><div class="line">814</div><div class="line">815</div><div class="line">816</div><div class="line">817</div><div class="line">818</div><div class="line">819</div><div class="line">820</div><div class="line">821</div><div class="line">822</div><div class="line">823</div><div class="line">824</div><div class="line">825</div><div class="line">826</div><div class="line">827</div><div class="line">828</div><div class="line">829</div><div class="line">830</div><div class="line">831</div><div class="line">832</div><div class="line">833</div><div class="line">834</div><div class="line">835</div><div class="line">836</div><div class="line">837</div><div class="line">838</div><div class="line">839</div><div class="line">840</div><div class="line">841</div><div class="line">842</div><div class="line">843</div><div class="line">844</div><div class="line">845</div><div class="line">846</div><div class="line">847</div><div class="line">848</div><div class="line">849</div><div class="line">850</div><div class="line">851</div><div class="line">852</div><div class="line">853</div><div class="line">854</div><div class="line">855</div><div class="line">856</div><div class="line">857</div><div class="line">858</div><div class="line">859</div><div class="line">860</div><div class="line">861</div><div class="line">862</div><div class="line">863</div><div class="line">864</div><div class="line">865</div><div class="line">866</div><div class="line">867</div><div class="line">868</div><div class="line">869</div><div class="line">870</div><div class="line">871</div><div class="line">872</div><div class="line">873</div><div class="line">874</div><div class="line">875</div><div class="line">876</div><div class="line">877</div><div class="line">878</div><div class="line">879</div><div class="line">880</div><div class="line">881</div><div class="line">882</div><div class="line">883</div><div class="line">884</div><div class="line">885</div><div class="line">886</div><div class="line">887</div><div class="line">888</div><div class="line">889</div><div class="line">890</div><div class="line">891</div><div class="line">892</div><div class="line">893</div><div class="line">894</div><div class="line">895</div><div class="line">896</div><div class="line">897</div><div class="line">898</div><div class="line">899</div><div class="line">900</div><div class="line">901</div><div class="line">902</div><div class="line">903</div><div class="line">904</div><div class="line">905</div><div class="line">906</div><div class="line">907</div><div class="line">908</div><div class="line">909</div><div class="line">910</div><div class="line">911</div><div class="line">912</div><div class="line">913</div><div class="line">914</div><div class="line">915</div><div class="line">916</div><div class="line">917</div><div class="line">918</div><div class="line">919</div><div class="line">920</div><div class="line">921</div><div class="line">922</div><div class="line">923</div><div class="line">924</div><div class="line">925</div><div class="line">926</div><div class="line">927</div><div class="line">928</div><div class="line">929</div><div class="line">930</div><div class="line">931</div><div class="line">932</div><div class="line">933</div><div class="line">934</div><div class="line">935</div><div class="line">936</div><div class="line">937</div><div class="line">938</div><div class="line">939</div><div class="line">940</div><div class="line">941</div><div class="line">942</div><div class="line">943</div><div class="line">944</div><div class="line">945</div><div class="line">946</div><div class="line">947</div><div class="line">948</div><div class="line">949</div><div class="line">950</div><div class="line">951</div><div class="line">952</div><div class="line">953</div><div class="line">954</div><div class="line">955</div><div class="line">956</div><div class="line">957</div><div class="line">958</div><div class="line">959</div><div class="line">960</div><div class="line">961</div><div class="line">962</div><div class="line">963</div><div class="line">964</div><div class="line">965</div><div class="line">966</div><div class="line">967</div><div class="line">968</div><div class="line">969</div><div class="line">970</div><div class="line">971</div><div class="line">972</div><div class="line">973</div><div class="line">974</div><div class="line">975</div><div class="line">976</div><div class="line">977</div><div class="line">978</div><div class="line">979</div><div class="line">980</div><div class="line">981</div><div class="line">982</div><div class="line">983</div><div class="line">984</div><div class="line">985</div><div class="line">986</div><div class="line">987</div><div class="line">988</div><div class="line">989</div><div class="line">990</div><div class="line">991</div><div class="line">992</div><div class="line">993</div><div class="line">994</div><div class="line">995</div><div class="line">996</div><div class="line">997</div><div class="line">998</div><div class="line">999</div><div class="line">1000</div><div class="line">1001</div><div class="line">1002</div><div class="line">1003</div><div class="line">1004</div><div class="line">1005</div><div class="line">1006</div><div class="line">1007</div><div class="line">1008</div><div class="line">1009</div><div class="line">1010</div><div class="line">1011</div><div class="line">1012</div><div class="line">1013</div><div class="line">1014</div><div class="line">1015</div><div class="line">1016</div><div class="line">1017</div><div class="line">1018</div><div class="line">1019</div><div class="line">1020</div><div class="line">1021</div><div class="line">1022</div><div class="line">1023</div><div class="line">1024</div><div class="line">1025</div><div class="line">1026</div><div class="line">1027</div><div class="line">1028</div><div class="line">1029</div><div class="line">1030</div><div class="line">1031</div><div class="line">1032</div><div class="line">1033</div><div class="line">1034</div><div class="line">1035</div><div class="line">1036</div><div class="line">1037</div><div class="line">1038</div><div class="line">1039</div><div class="line">1040</div><div class="line">1041</div><div class="line">1042</div><div class="line">1043</div><div class="line">1044</div><div class="line">1045</div><div class="line">1046</div><div class="line">1047</div><div class="line">1048</div><div class="line">1049</div><div class="line">1050</div><div class="line">1051</div><div class="line">1052</div><div class="line">1053</div><div class="line">1054</div><div class="line">1055</div><div class="line">1056</div><div class="line">1057</div><div class="line">1058</div><div class="line">1059</div><div class="line">1060</div><div class="line">1061</div><div class="line">1062</div><div class="line">1063</div><div class="line">1064</div><div class="line">1065</div><div class="line">1066</div><div class="line">1067</div><div class="line">1068</div><div class="line">1069</div><div class="line">1070</div><div class="line">1071</div><div class="line">1072</div><div class="line">1073</div><div class="line">1074</div><div class="line">1075</div><div class="line">1076</div><div class="line">1077</div><div class="line">1078</div><div class="line">1079</div><div class="line">1080</div><div class="line">1081</div><div class="line">1082</div><div class="line">1083</div><div class="line">1084</div><div class="line">1085</div><div class="line">1086</div><div class="line">1087</div><div class="line">1088</div><div class="line">1089</div><div class="line">1090</div><div class="line">1091</div><div class="line">1092</div><div class="line">1093</div><div class="line">1094</div><div class="line">1095</div><div class="line">1096</div><div class="line">1097</div><div class="line">1098</div><div class="line">1099</div><div class="line">1100</div><div class="line">1101</div><div class="line">1102</div><div class="line">1103</div><div class="line">1104</div><div class="line">1105</div><div class="line">1106</div><div class="line">1107</div><div class="line">1108</div><div class="line">1109</div><div class="line">1110</div><div class="line">1111</div><div class="line">1112</div><div class="line">1113</div><div class="line">1114</div><div class="line">1115</div><div class="line">1116</div><div class="line">1117</div><div class="line">1118</div><div class="line">1119</div><div class="line">1120</div><div class="line">1121</div><div class="line">1122</div><div class="line">1123</div><div class="line">1124</div><div class="line">1125</div><div class="line">1126</div><div class="line">1127</div><div class="line">1128</div><div class="line">1129</div><div class="line">1130</div><div class="line">1131</div><div class="line">1132</div><div class="line">1133</div><div class="line">1134</div><div class="line">1135</div><div class="line">1136</div><div class="line">1137</div><div class="line">1138</div><div class="line">1139</div><div class="line">1140</div><div class="line">1141</div><div class="line">1142</div><div class="line">1143</div><div class="line">1144</div><div class="line">1145</div><div class="line">1146</div><div class="line">1147</div><div class="line">1148</div><div class="line">1149</div><div class="line">1150</div><div class="line">1151</div><div class="line">1152</div><div class="line">1153</div><div class="line">1154</div><div class="line">1155</div><div class="line">1156</div><div class="line">1157</div><div class="line">1158</div><div class="line">1159</div><div class="line">1160</div><div class="line">1161</div><div class="line">1162</div><div class="line">1163</div><div class="line">1164</div><div class="line">1165</div><div class="line">1166</div><div class="line">1167</div><div class="line">1168</div><div class="line">1169</div><div class="line">1170</div><div class="line">1171</div><div class="line">1172</div><div class="line">1173</div><div class="line">1174</div><div class="line">1175</div><div class="line">1176</div><div class="line">1177</div><div class="line">1178</div><div class="line">1179</div><div class="line">1180</div><div class="line">1181</div><div class="line">1182</div><div class="line">1183</div><div class="line">1184</div><div class="line">1185</div><div class="line">1186</div><div class="line">1187</div><div class="line">1188</div><div class="line">1189</div><div class="line">1190</div><div class="line">1191</div><div class="line">1192</div><div class="line">1193</div><div class="line">1194</div><div class="line">1195</div><div class="line">1196</div><div class="line">1197</div><div class="line">1198</div><div class="line">1199</div><div class="line">1200</div><div class="line">1201</div><div class="line">1202</div><div class="line">1203</div><div class="line">1204</div><div class="line">1205</div><div class="line">1206</div><div class="line">1207</div><div class="line">1208</div><div class="line">1209</div><div class="line">1210</div><div class="line">1211</div><div class="line">1212</div><div class="line">1213</div><div class="line">1214</div><div class="line">1215</div><div class="line">1216</div><div class="line">1217</div><div class="line">1218</div><div class="line">1219</div><div class="line">1220</div><div class="line">1221</div><div class="line">1222</div><div class="line">1223</div><div class="line">1224</div><div class="line">1225</div><div class="line">1226</div><div class="line">1227</div><div class="line">1228</div><div class="line">1229</div><div class="line">1230</div><div class="line">1231</div><div class="line">1232</div><div class="line">1233</div><div class="line">1234</div><div class="line">1235</div><div class="line">1236</div><div class="line">1237</div><div class="line">1238</div><div class="line">1239</div><div class="line">1240</div><div class="line">1241</div><div class="line">1242</div><div class="line">1243</div><div class="line">1244</div><div class="line">1245</div><div class="line">1246</div><div class="line">1247</div><div class="line">1248</div><div class="line">1249</div><div class="line">1250</div><div class="line">1251</div><div class="line">1252</div><div class="line">1253</div><div class="line">1254</div><div class="line">1255</div><div class="line">1256</div><div class="line">1257</div><div class="line">1258</div><div class="line">1259</div><div class="line">1260</div><div class="line">1261</div><div class="line">1262</div><div class="line">1263</div><div class="line">1264</div><div class="line">1265</div><div class="line">1266</div><div class="line">1267</div><div class="line">1268</div><div class="line">1269</div><div class="line">1270</div><div class="line">1271</div><div class="line">1272</div><div class="line">1273</div><div class="line">1274</div><div class="line">1275</div><div class="line">1276</div><div class="line">1277</div><div class="line">1278</div><div class="line">1279</div><div class="line">1280</div><div class="line">1281</div><div class="line">1282</div><div class="line">1283</div><div class="line">1284</div><div class="line">1285</div><div class="line">1286</div><div class="line">1287</div><div class="line">1288</div><div class="line">1289</div><div class="line">1290</div><div class="line">1291</div><div class="line">1292</div><div class="line">1293</div><div class="line">1294</div><div class="line">1295</div><div class="line">1296</div><div class="line">1297</div><div class="line">1298</div><div class="line">1299</div><div class="line">1300</div><div class="line">1301</div><div class="line">1302</div><div class="line">1303</div><div class="line">1304</div><div class="line">1305</div><div class="line">1306</div><div class="line">1307</div><div class="line">1308</div><div class="line">1309</div><div class="line">1310</div><div class="line">1311</div><div class="line">1312</div><div class="line">1313</div><div class="line">1314</div><div class="line">1315</div><div class="line">1316</div><div class="line">1317</div><div class="line">1318</div><div class="line">1319</div><div class="line">1320</div><div class="line">1321</div><div class="line">1322</div><div class="line">1323</div><div class="line">1324</div><div class="line">1325</div><div class="line">1326</div><div class="line">1327</div><div class="line">1328</div><div class="line">1329</div><div class="line">1330</div><div class="line">1331</div><div class="line">1332</div><div class="line">1333</div><div class="line">1334</div><div class="line">1335</div><div class="line">1336</div><div class="line">1337</div><div class="line">1338</div><div class="line">1339</div><div class="line">1340</div><div class="line">1341</div><div class="line">1342</div><div class="line">1343</div><div class="line">1344</div><div class="line">1345</div><div class="line">1346</div><div class="line">1347</div><div class="line">1348</div><div class="line">1349</div><div class="line">1350</div><div class="line">1351</div><div class="line">1352</div><div class="line">1353</div><div class="line">1354</div><div class="line">1355</div><div class="line">1356</div><div class="line">1357</div><div class="line">1358</div><div class="line">1359</div><div class="line">1360</div><div class="line">1361</div><div class="line">1362</div><div class="line">1363</div><div class="line">1364</div><div class="line">1365</div><div class="line">1366</div><div class="line">1367</div><div class="line">1368</div><div class="line">1369</div><div class="line">1370</div><div class="line">1371</div><div class="line">1372</div><div class="line">1373</div><div class="line">1374</div><div class="line">1375</div><div class="line">1376</div><div class="line">1377</div><div class="line">1378</div><div class="line">1379</div><div class="line">1380</div><div class="line">1381</div><div class="line">1382</div><div class="line">1383</div><div class="line">1384</div><div class="line">1385</div><div class="line">1386</div><div class="line">1387</div><div class="line">1388</div><div class="line">1389</div><div class="line">1390</div><div class="line">1391</div><div class="line">1392</div><div class="line">1393</div><div class="line">1394</div><div class="line">1395</div><div class="line">1396</div><div class="line">1397</div><div class="line">1398</div><div class="line">1399</div><div class="line">1400</div><div class="line">1401</div><div class="line">1402</div><div class="line">1403</div><div class="line">1404</div><div class="line">1405</div><div class="line">1406</div><div class="line">1407</div><div class="line">1408</div><div class="line">1409</div><div class="line">1410</div><div class="line">1411</div><div class="line">1412</div><div class="line">1413</div><div class="line">1414</div><div class="line">1415</div><div class="line">1416</div><div class="line">1417</div><div class="line">1418</div><div class="line">1419</div><div class="line">1420</div><div class="line">1421</div><div class="line">1422</div><div class="line">1423</div><div class="line">1424</div><div class="line">1425</div><div class="line">1426</div><div class="line">1427</div><div class="line">1428</div><div class="line">1429</div><div class="line">1430</div><div class="line">1431</div><div class="line">1432</div><div class="line">1433</div><div class="line">1434</div><div class="line">1435</div><div class="line">1436</div><div class="line">1437</div><div class="line">1438</div><div class="line">1439</div><div class="line">1440</div><div class="line">1441</div><div class="line">1442</div><div class="line">1443</div><div class="line">1444</div><div class="line">1445</div><div class="line">1446</div><div class="line">1447</div><div class="line">1448</div><div class="line">1449</div><div class="line">1450</div><div class="line">1451</div><div class="line">1452</div><div class="line">1453</div><div class="line">1454</div><div class="line">1455</div><div class="line">1456</div><div class="line">1457</div><div class="line">1458</div><div class="line">1459</div><div class="line">1460</div><div class="line">1461</div><div class="line">1462</div><div class="line">1463</div><div class="line">1464</div><div class="line">1465</div><div class="line">1466</div><div class="line">1467</div><div class="line">1468</div><div class="line">1469</div><div class="line">1470</div><div class="line">1471</div><div class="line">1472</div><div class="line">1473</div><div class="line">1474</div><div class="line">1475</div><div class="line">1476</div><div class="line">1477</div><div class="line">1478</div><div class="line">1479</div><div class="line">1480</div><div class="line">1481</div><div class="line">1482</div><div class="line">1483</div><div class="line">1484</div><div class="line">1485</div><div class="line">1486</div><div class="line">1487</div><div class="line">1488</div><div class="line">1489</div><div class="line">1490</div><div class="line">1491</div><div class="line">1492</div><div class="line">1493</div><div class="line">1494</div><div class="line">1495</div><div class="line">1496</div><div class="line">1497</div><div class="line">1498</div><div class="line">1499</div><div class="line">1500</div><div class="line">1501</div><div class="line">1502</div><div class="line">1503</div><div class="line">1504</div><div class="line">1505</div><div class="line">1506</div><div class="line">1507</div><div class="line">1508</div><div class="line">1509</div><div class="line">1510</div><div class="line">1511</div><div class="line">1512</div><div class="line">1513</div><div class="line">1514</div><div class="line">1515</div><div class="line">1516</div><div class="line">1517</div><div class="line">1518</div><div class="line">1519</div><div class="line">1520</div><div class="line">1521</div><div class="line">1522</div><div class="line">1523</div><div class="line">1524</div><div class="line">1525</div><div class="line">1526</div><div class="line">1527</div><div class="line">1528</div><div class="line">1529</div><div class="line">1530</div><div class="line">1531</div><div class="line">1532</div><div class="line">1533</div><div class="line">1534</div><div class="line">1535</div><div class="line">1536</div><div class="line">1537</div><div class="line">1538</div><div class="line">1539</div><div class="line">1540</div><div class="line">1541</div><div class="line">1542</div><div class="line">1543</div><div class="line">1544</div><div class="line">1545</div><div class="line">1546</div><div class="line">1547</div><div class="line">1548</div><div class="line">1549</div><div class="line">1550</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//     Underscore.js 1.8.3</span></div><div class="line"><span class="comment">//     http://underscorejs.org</span></div><div class="line"><span class="comment">//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters &amp; Editors</span></div><div class="line"><span class="comment">//     Underscore may be freely distributed under the MIT license.</span></div><div class="line"></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">// Baseline setup</span></div><div class="line">  <span class="comment">// --------------</span></div><div class="line"></div><div class="line">  <span class="comment">// Establish the root object, `window` in the browser, or `exports` on the server.</span></div><div class="line">  <span class="keyword">var</span> root = <span class="keyword">this</span>;</div><div class="line"></div><div class="line">  <span class="comment">// Save the previous value of the `_` variable.</span></div><div class="line">  <span class="keyword">var</span> previousUnderscore = root._;</div><div class="line"></div><div class="line">  <span class="comment">// Save bytes in the minified (but not gzipped) version:</span></div><div class="line">  <span class="keyword">var</span> ArrayProto = <span class="built_in">Array</span>.prototype, ObjProto = <span class="built_in">Object</span>.prototype, FuncProto = <span class="built_in">Function</span>.prototype;</div><div class="line"></div><div class="line">  <span class="comment">// Create quick reference variables for speed access to core prototypes.</span></div><div class="line">  <span class="keyword">var</span></div><div class="line">    push             = ArrayProto.push,</div><div class="line">    slice            = ArrayProto.slice,</div><div class="line">    toString         = ObjProto.toString,</div><div class="line">    hasOwnProperty   = ObjProto.hasOwnProperty; <span class="comment">//返回一个布尔值 ，表示某个对象是否含有指定的属性，而且此属性非原型链继承的。</span></div><div class="line"></div><div class="line">  <span class="comment">// All **ECMAScript 5** native function implementations that we hope to use</span></div><div class="line">  <span class="comment">// are declared here.</span></div><div class="line">  <span class="keyword">var</span></div><div class="line">    nativeIsArray      = <span class="built_in">Array</span>.isArray,</div><div class="line">    nativeKeys         = <span class="built_in">Object</span>.keys, <span class="comment">//返回一个数组，包含指定对象的所有自有可遍历属性的名称。</span></div><div class="line">    nativeBind         = FuncProto.bind,</div><div class="line">    <span class="comment">// bind()方法会创建一个新函数,称为绑定函数.当调用这个绑定函数时,绑定函数会以创建它时传入 bind()方法的第一个参数作为 this,</span></div><div class="line">    <span class="comment">// 传入 bind()方法的第二个以及以后的参数加上绑定函数运行时本身的参数按照顺序作为原函数的参数来调用原函数.</span></div><div class="line">    nativeCreate       = <span class="built_in">Object</span>.create;</div><div class="line"></div><div class="line">  <span class="comment">// Naked function reference for surrogate-prototype-swapping.</span></div><div class="line">  <span class="keyword">var</span> Ctor = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Create a safe reference to the Underscore object for use below.</span></div><div class="line">  <span class="keyword">var</span> _ = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> _) <span class="keyword">return</span> obj;</div><div class="line">    <span class="keyword">if</span> (!(<span class="keyword">this</span> <span class="keyword">instanceof</span> _)) <span class="keyword">return</span> <span class="keyword">new</span> _(obj);</div><div class="line">    <span class="keyword">this</span>._wrapped = obj;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Export the Underscore object for **Node.js**, with</span></div><div class="line">  <span class="comment">// backwards-compatibility for the old `require()` API. If we're in</span></div><div class="line">  <span class="comment">// the browser, add `_` as a global object.</span></div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> exports !== <span class="string">'undefined'</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">module</span> !== <span class="string">'undefined'</span> &amp;&amp; <span class="built_in">module</span>.exports) &#123;</div><div class="line">      exports = <span class="built_in">module</span>.exports = _;</div><div class="line">    &#125;</div><div class="line">    exports._ = _;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    root._ = _;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Current version.</span></div><div class="line">  _.VERSION = <span class="string">'1.8.3'</span>;</div><div class="line"></div><div class="line">  <span class="comment">// Internal function that returns an efficient (for current engines) version</span></div><div class="line">  <span class="comment">// of the passed-in callback, to be repeatedly applied in other Underscore</span></div><div class="line">  <span class="comment">// functions.</span></div><div class="line">  <span class="keyword">var</span> optimizeCb = <span class="function"><span class="keyword">function</span>(<span class="params">func, context, argCount</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (context === <span class="keyword">void</span> <span class="number">0</span>) <span class="keyword">return</span> func;</div><div class="line">    <span class="keyword">switch</span> (argCount == <span class="literal">null</span> ? <span class="number">3</span> : argCount) &#123;</div><div class="line">      <span class="keyword">case</span> <span class="number">1</span>: <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> func.call(context, value);</div><div class="line">      &#125;;</div><div class="line">      <span class="keyword">case</span> <span class="number">2</span>: <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">value, other</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> func.call(context, value, other);</div><div class="line">      &#125;;</div><div class="line">      <span class="keyword">case</span> <span class="number">3</span>: <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">value, index, collection</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> func.call(context, value, index, collection);</div><div class="line">      &#125;;</div><div class="line">      <span class="keyword">case</span> <span class="number">4</span>: <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">accumulator, value, index, collection</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> func.call(context, accumulator, value, index, collection);</div><div class="line">      &#125;;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> func.apply(context, <span class="built_in">arguments</span>);</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// A mostly-internal function to generate callbacks that can be applied</span></div><div class="line">  <span class="comment">// to each element in a collection, returning the desired result — either</span></div><div class="line">  <span class="comment">// identity, an arbitrary callback, a property matcher, or a property accessor.</span></div><div class="line">  <span class="keyword">var</span> cb = <span class="function"><span class="keyword">function</span>(<span class="params">value, context, argCount</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (value == <span class="literal">null</span>) <span class="keyword">return</span> _.identity;</div><div class="line">    <span class="keyword">if</span> (_.isFunction(value)) <span class="keyword">return</span> optimizeCb(value, context, argCount);</div><div class="line">    <span class="keyword">if</span> (_.isObject(value)) <span class="keyword">return</span> _.matcher(value);</div><div class="line">    <span class="keyword">return</span> _.property(value);</div><div class="line">  &#125;;</div><div class="line">  _.iteratee = <span class="function"><span class="keyword">function</span>(<span class="params">value, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> cb(value, context, <span class="literal">Infinity</span>);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// An internal function for creating assigner functions.</span></div><div class="line">  <span class="keyword">var</span> createAssigner = <span class="function"><span class="keyword">function</span>(<span class="params">keysFunc, undefinedOnly</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> length = <span class="built_in">arguments</span>.length;</div><div class="line">      <span class="keyword">if</span> (length &lt; <span class="number">2</span> || obj == <span class="literal">null</span>) <span class="keyword">return</span> obj;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">1</span>; index &lt; length; index++) &#123;</div><div class="line">        <span class="keyword">var</span> source = <span class="built_in">arguments</span>[index],</div><div class="line">            keys = keysFunc(source),</div><div class="line">            l = keys.length;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; l; i++) &#123;</div><div class="line">          <span class="keyword">var</span> key = keys[i];</div><div class="line">          <span class="keyword">if</span> (!undefinedOnly || obj[key] === <span class="keyword">void</span> <span class="number">0</span>) obj[key] = source[key];</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> obj;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// An internal function for creating a new object that inherits from another.</span></div><div class="line">  <span class="keyword">var</span> baseCreate = <span class="function"><span class="keyword">function</span>(<span class="params">prototype</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!_.isObject(prototype)) <span class="keyword">return</span> &#123;&#125;;</div><div class="line">    <span class="keyword">if</span> (nativeCreate) <span class="keyword">return</span> nativeCreate(prototype);</div><div class="line">    Ctor.prototype = prototype;</div><div class="line">    <span class="keyword">var</span> result = <span class="keyword">new</span> Ctor;</div><div class="line">    Ctor.prototype = <span class="literal">null</span>;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> property = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> obj == <span class="literal">null</span> ? <span class="keyword">void</span> <span class="number">0</span> : obj[key];</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Helper for collection methods to determine whether a collection</span></div><div class="line">  <span class="comment">// should be iterated as an array or as an object</span></div><div class="line">  <span class="comment">// Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength</span></div><div class="line">  <span class="comment">// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094</span></div><div class="line">  <span class="keyword">var</span> MAX_ARRAY_INDEX = <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">53</span>) - <span class="number">1</span>;</div><div class="line">  <span class="keyword">var</span> getLength = property(<span class="string">'length'</span>);</div><div class="line">  <span class="keyword">var</span> isArrayLike = <span class="function"><span class="keyword">function</span>(<span class="params">collection</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> length = getLength(collection);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> length == <span class="string">'number'</span> &amp;&amp; length &gt;= <span class="number">0</span> &amp;&amp; length &lt;= MAX_ARRAY_INDEX;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Collection Functions</span></div><div class="line">  <span class="comment">// --------------------</span></div><div class="line"></div><div class="line">  <span class="comment">// The cornerstone, an `each` implementation, aka `forEach`.</span></div><div class="line">  <span class="comment">// Handles raw objects in addition to array-likes. Treats all</span></div><div class="line">  <span class="comment">// sparse array-likes as if they were dense.</span></div><div class="line">  _.each = _.forEach = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">    iteratee = optimizeCb(iteratee, context);</div><div class="line">    <span class="keyword">var</span> i, length;</div><div class="line">    <span class="keyword">if</span> (isArrayLike(obj)) &#123;</div><div class="line">      <span class="keyword">for</span> (i = <span class="number">0</span>, length = obj.length; i &lt; length; i++) &#123;</div><div class="line">        iteratee(obj[i], i, obj);</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">var</span> keys = _.keys(obj);</div><div class="line">      <span class="keyword">for</span> (i = <span class="number">0</span>, length = keys.length; i &lt; length; i++) &#123;</div><div class="line">        iteratee(obj[keys[i]], keys[i], obj);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return the results of applying the iteratee to each element.</span></div><div class="line">  _.map = _.collect = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">    iteratee = cb(iteratee, context);</div><div class="line">    <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">        length = (keys || obj).length,</div><div class="line">        results = <span class="built_in">Array</span>(length);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">      <span class="keyword">var</span> currentKey = keys ? keys[index] : index;</div><div class="line">      results[index] = iteratee(obj[currentKey], currentKey, obj);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> results;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Create a reducing function iterating left or right.</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">createReduce</span>(<span class="params">dir</span>) </span>&#123;</div><div class="line">    <span class="comment">// Optimized iterator function as using arguments.length</span></div><div class="line">    <span class="comment">// in the main function will deoptimize the, see #1991.</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">iterator</span>(<span class="params">obj, iteratee, memo, keys, index, length</span>) </span>&#123;</div><div class="line">      <span class="keyword">for</span> (; index &gt;= <span class="number">0</span> &amp;&amp; index &lt; length; index += dir) &#123;</div><div class="line">        <span class="keyword">var</span> currentKey = keys ? keys[index] : index;</div><div class="line">        memo = iteratee(memo, obj[currentKey], currentKey, obj);</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> memo;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, memo, context</span>) </span>&#123;</div><div class="line">      iteratee = optimizeCb(iteratee, context, <span class="number">4</span>);</div><div class="line">      <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">          length = (keys || obj).length,</div><div class="line">          index = dir &gt; <span class="number">0</span> ? <span class="number">0</span> : length - <span class="number">1</span>;</div><div class="line">      <span class="comment">// Determine the initial value if none is provided.</span></div><div class="line">      <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt; <span class="number">3</span>) &#123;</div><div class="line">        memo = obj[keys ? keys[index] : index];</div><div class="line">        index += dir;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> iterator(obj, iteratee, memo, keys, index, length);</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// **Reduce** builds up a single result from a list of values, aka `inject`,</span></div><div class="line">  <span class="comment">// or `foldl`.</span></div><div class="line">  _.reduce = _.foldl = _.inject = createReduce(<span class="number">1</span>);</div><div class="line"></div><div class="line">  <span class="comment">// The right-associative version of reduce, also known as `foldr`.</span></div><div class="line">  _.reduceRight = _.foldr = createReduce(<span class="number">-1</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Return the first value which passes a truth test. Aliased as `detect`.</span></div><div class="line">  _.find = _.detect = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> key;</div><div class="line">    <span class="keyword">if</span> (isArrayLike(obj)) &#123;</div><div class="line">      key = _.findIndex(obj, predicate, context);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      key = _.findKey(obj, predicate, context);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (key !== <span class="keyword">void</span> <span class="number">0</span> &amp;&amp; key !== <span class="number">-1</span>) <span class="keyword">return</span> obj[key];</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return all the elements that pass a truth test.</span></div><div class="line">  <span class="comment">// Aliased as `select`.</span></div><div class="line">  _.filter = _.select = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> results = [];</div><div class="line">    predicate = cb(predicate, context);</div><div class="line">    _.each(obj, <span class="function"><span class="keyword">function</span>(<span class="params">value, index, list</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (predicate(value, index, list)) results.push(value);</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> results;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return all the elements for which a truth test fails.</span></div><div class="line">  _.reject = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.filter(obj, _.negate(cb(predicate)), context);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Determine whether all of the elements match a truth test.</span></div><div class="line">  <span class="comment">// Aliased as `all`.</span></div><div class="line">  _.every = _.all = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">    predicate = cb(predicate, context);</div><div class="line">    <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">        length = (keys || obj).length;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">      <span class="keyword">var</span> currentKey = keys ? keys[index] : index;</div><div class="line">      <span class="keyword">if</span> (!predicate(obj[currentKey], currentKey, obj)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Determine if at least one element in the object matches a truth test.</span></div><div class="line">  <span class="comment">// Aliased as `any`.</span></div><div class="line">  _.some = _.any = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">    predicate = cb(predicate, context);</div><div class="line">    <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">        length = (keys || obj).length;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">      <span class="keyword">var</span> currentKey = keys ? keys[index] : index;</div><div class="line">      <span class="keyword">if</span> (predicate(obj[currentKey], currentKey, obj)) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Determine if the array or object contains a given item (using `===`).</span></div><div class="line">  <span class="comment">// Aliased as `includes` and `include`.</span></div><div class="line">  _.contains = _.includes = _.include = <span class="function"><span class="keyword">function</span>(<span class="params">obj, item, fromIndex, guard</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!isArrayLike(obj)) obj = _.values(obj);</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> fromIndex != <span class="string">'number'</span> || guard) fromIndex = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> _.indexOf(obj, item, fromIndex) &gt;= <span class="number">0</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Invoke a method (with arguments) on every item in a collection.</span></div><div class="line">  _.invoke = <span class="function"><span class="keyword">function</span>(<span class="params">obj, method</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</div><div class="line">    <span class="keyword">var</span> isFunc = _.isFunction(method);</div><div class="line">    <span class="keyword">return</span> _.map(obj, <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> func = isFunc ? method : value[method];</div><div class="line">      <span class="keyword">return</span> func == <span class="literal">null</span> ? func : func.apply(value, args);</div><div class="line">    &#125;);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Convenience version of a common use case of `map`: fetching a property.</span></div><div class="line">  _.pluck = <span class="function"><span class="keyword">function</span>(<span class="params">obj, key</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.map(obj, _.property(key));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Convenience version of a common use case of `filter`: selecting only objects</span></div><div class="line">  <span class="comment">// containing specific `key:value` pairs.</span></div><div class="line">  _.where = <span class="function"><span class="keyword">function</span>(<span class="params">obj, attrs</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.filter(obj, _.matcher(attrs));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Convenience version of a common use case of `find`: getting the first object</span></div><div class="line">  <span class="comment">// containing specific `key:value` pairs.</span></div><div class="line">  _.findWhere = <span class="function"><span class="keyword">function</span>(<span class="params">obj, attrs</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.find(obj, _.matcher(attrs));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return the maximum element (or element-based computation).</span></div><div class="line">  _.max = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = -<span class="literal">Infinity</span>, lastComputed = -<span class="literal">Infinity</span>,</div><div class="line">        value, computed;</div><div class="line">    <span class="keyword">if</span> (iteratee == <span class="literal">null</span> &amp;&amp; obj != <span class="literal">null</span>) &#123;</div><div class="line">      obj = isArrayLike(obj) ? obj : _.values(obj);</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = obj.length; i &lt; length; i++) &#123;</div><div class="line">        value = obj[i];</div><div class="line">        <span class="keyword">if</span> (value &gt; result) &#123;</div><div class="line">          result = value;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      iteratee = cb(iteratee, context);</div><div class="line">      _.each(obj, <span class="function"><span class="keyword">function</span>(<span class="params">value, index, list</span>) </span>&#123;</div><div class="line">        computed = iteratee(value, index, list);</div><div class="line">        <span class="keyword">if</span> (computed &gt; lastComputed || computed === -<span class="literal">Infinity</span> &amp;&amp; result === -<span class="literal">Infinity</span>) &#123;</div><div class="line">          result = value;</div><div class="line">          lastComputed = computed;</div><div class="line">        &#125;</div><div class="line">      &#125;);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return the minimum element (or element-based computation).</span></div><div class="line">  _.min = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = <span class="literal">Infinity</span>, lastComputed = <span class="literal">Infinity</span>,</div><div class="line">        value, computed;</div><div class="line">    <span class="keyword">if</span> (iteratee == <span class="literal">null</span> &amp;&amp; obj != <span class="literal">null</span>) &#123;</div><div class="line">      obj = isArrayLike(obj) ? obj : _.values(obj);</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = obj.length; i &lt; length; i++) &#123;</div><div class="line">        value = obj[i];</div><div class="line">        <span class="keyword">if</span> (value &lt; result) &#123;</div><div class="line">          result = value;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      iteratee = cb(iteratee, context);</div><div class="line">      _.each(obj, <span class="function"><span class="keyword">function</span>(<span class="params">value, index, list</span>) </span>&#123;</div><div class="line">        computed = iteratee(value, index, list);</div><div class="line">        <span class="keyword">if</span> (computed &lt; lastComputed || computed === <span class="literal">Infinity</span> &amp;&amp; result === <span class="literal">Infinity</span>) &#123;</div><div class="line">          result = value;</div><div class="line">          lastComputed = computed;</div><div class="line">        &#125;</div><div class="line">      &#125;);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Shuffle a collection, using the modern version of the</span></div><div class="line">  <span class="comment">// [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).</span></div><div class="line">  _.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> set = isArrayLike(obj) ? obj : _.values(obj);</div><div class="line">    <span class="keyword">var</span> length = set.length;</div><div class="line">    <span class="keyword">var</span> shuffled = <span class="built_in">Array</span>(length);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>, rand; index &lt; length; index++) &#123;</div><div class="line">      rand = _.random(<span class="number">0</span>, index);</div><div class="line">      <span class="keyword">if</span> (rand !== index) shuffled[index] = shuffled[rand];</div><div class="line">      shuffled[rand] = set[index];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> shuffled;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Sample **n** random values from a collection.</span></div><div class="line">  <span class="comment">// If **n** is not specified, returns a single random element.</span></div><div class="line">  <span class="comment">// The internal `guard` argument allows it to work with `map`.</span></div><div class="line">  _.sample = <span class="function"><span class="keyword">function</span>(<span class="params">obj, n, guard</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n == <span class="literal">null</span> || guard) &#123;</div><div class="line">      <span class="keyword">if</span> (!isArrayLike(obj)) obj = _.values(obj);</div><div class="line">      <span class="keyword">return</span> obj[_.random(obj.length - <span class="number">1</span>)];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _.shuffle(obj).slice(<span class="number">0</span>, <span class="built_in">Math</span>.max(<span class="number">0</span>, n));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Sort the object's values by a criterion produced by an iteratee.</span></div><div class="line">  _.sortBy = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">    iteratee = cb(iteratee, context);</div><div class="line">    <span class="keyword">return</span> _.pluck(_.map(obj, <span class="function"><span class="keyword">function</span>(<span class="params">value, index, list</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">value</span>: value,</div><div class="line">        <span class="attr">index</span>: index,</div><div class="line">        <span class="attr">criteria</span>: iteratee(value, index, list)</div><div class="line">      &#125;;</div><div class="line">    &#125;).sort(<span class="function"><span class="keyword">function</span>(<span class="params">left, right</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> a = left.criteria;</div><div class="line">      <span class="keyword">var</span> b = right.criteria;</div><div class="line">      <span class="keyword">if</span> (a !== b) &#123;</div><div class="line">        <span class="keyword">if</span> (a &gt; b || a === <span class="keyword">void</span> <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span> (a &lt; b || b === <span class="keyword">void</span> <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> left.index - right.index;</div><div class="line">    &#125;), <span class="string">'value'</span>);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// An internal function used for aggregate "group by" operations.</span></div><div class="line">  <span class="keyword">var</span> group = <span class="function"><span class="keyword">function</span>(<span class="params">behavior</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> result = &#123;&#125;;</div><div class="line">      iteratee = cb(iteratee, context);</div><div class="line">      _.each(obj, <span class="function"><span class="keyword">function</span>(<span class="params">value, index</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> key = iteratee(value, index, obj);</div><div class="line">        behavior(result, value, key);</div><div class="line">      &#125;);</div><div class="line">      <span class="keyword">return</span> result;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Groups the object's values by a criterion. Pass either a string attribute</span></div><div class="line">  <span class="comment">// to group by, or a function that returns the criterion.</span></div><div class="line">  _.groupBy = group(<span class="function"><span class="keyword">function</span>(<span class="params">result, value, key</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (_.has(result, key)) result[key].push(value); <span class="keyword">else</span> result[key] = [value];</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="comment">// Indexes the object's values by a criterion, similar to `groupBy`, but for</span></div><div class="line">  <span class="comment">// when you know that your index values will be unique.</span></div><div class="line">  _.indexBy = group(<span class="function"><span class="keyword">function</span>(<span class="params">result, value, key</span>) </span>&#123;</div><div class="line">    result[key] = value;</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="comment">// Counts instances of an object that group by a certain criterion. Pass</span></div><div class="line">  <span class="comment">// either a string attribute to count by, or a function that returns the</span></div><div class="line">  <span class="comment">// criterion.</span></div><div class="line">  _.countBy = group(<span class="function"><span class="keyword">function</span>(<span class="params">result, value, key</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (_.has(result, key)) result[key]++; <span class="keyword">else</span> result[key] = <span class="number">1</span>;</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="comment">// Safely create a real, live array from anything iterable.</span></div><div class="line">  _.toArray = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!obj) <span class="keyword">return</span> [];</div><div class="line">    <span class="keyword">if</span> (_.isArray(obj)) <span class="keyword">return</span> slice.call(obj);</div><div class="line">    <span class="keyword">if</span> (isArrayLike(obj)) <span class="keyword">return</span> _.map(obj, _.identity);</div><div class="line">    <span class="keyword">return</span> _.values(obj);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return the number of elements in an object.</span></div><div class="line">  _.size = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (obj == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> isArrayLike(obj) ? obj.length : _.keys(obj).length;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Split a collection into two arrays: one whose elements all satisfy the given</span></div><div class="line">  <span class="comment">// predicate, and one whose elements all do not satisfy the predicate.</span></div><div class="line">  _.partition = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">    predicate = cb(predicate, context);</div><div class="line">    <span class="keyword">var</span> pass = [], fail = [];</div><div class="line">    _.each(obj, <span class="function"><span class="keyword">function</span>(<span class="params">value, key, obj</span>) </span>&#123;</div><div class="line">      (predicate(value, key, obj) ? pass : fail).push(value);</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> [pass, fail];</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Array Functions</span></div><div class="line">  <span class="comment">// ---------------</span></div><div class="line"></div><div class="line">  <span class="comment">// Get the first element of an array. Passing **n** will return the first N</span></div><div class="line">  <span class="comment">// values in the array. Aliased as `head` and `take`. The **guard** check</span></div><div class="line">  <span class="comment">// allows it to work with `_.map`.</span></div><div class="line">  _.first = _.head = _.take = <span class="function"><span class="keyword">function</span>(<span class="params">array, n, guard</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (array == <span class="literal">null</span>) <span class="keyword">return</span> <span class="keyword">void</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (n == <span class="literal">null</span> || guard) <span class="keyword">return</span> array[<span class="number">0</span>];</div><div class="line">    <span class="keyword">return</span> _.initial(array, array.length - n);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns everything but the last entry of the array. Especially useful on</span></div><div class="line">  <span class="comment">// the arguments object. Passing **n** will return all the values in</span></div><div class="line">  <span class="comment">// the array, excluding the last N.</span></div><div class="line">  _.initial = <span class="function"><span class="keyword">function</span>(<span class="params">array, n, guard</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> slice.call(array, <span class="number">0</span>, <span class="built_in">Math</span>.max(<span class="number">0</span>, array.length - (n == <span class="literal">null</span> || guard ? <span class="number">1</span> : n)));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Get the last element of an array. Passing **n** will return the last N</span></div><div class="line">  <span class="comment">// values in the array.</span></div><div class="line">  _.last = <span class="function"><span class="keyword">function</span>(<span class="params">array, n, guard</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (array == <span class="literal">null</span>) <span class="keyword">return</span> <span class="keyword">void</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (n == <span class="literal">null</span> || guard) <span class="keyword">return</span> array[array.length - <span class="number">1</span>];</div><div class="line">    <span class="keyword">return</span> _.rest(array, <span class="built_in">Math</span>.max(<span class="number">0</span>, array.length - n));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns everything but the first entry of the array. Aliased as `tail` and `drop`.</span></div><div class="line">  <span class="comment">// Especially useful on the arguments object. Passing an **n** will return</span></div><div class="line">  <span class="comment">// the rest N values in the array.</span></div><div class="line">  _.rest = _.tail = _.drop = <span class="function"><span class="keyword">function</span>(<span class="params">array, n, guard</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> slice.call(array, n == <span class="literal">null</span> || guard ? <span class="number">1</span> : n);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Trim out all falsy values from an array.</span></div><div class="line">  _.compact = <span class="function"><span class="keyword">function</span>(<span class="params">array</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.filter(array, _.identity);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Internal implementation of a recursive `flatten` function.</span></div><div class="line">  <span class="keyword">var</span> flatten = <span class="function"><span class="keyword">function</span>(<span class="params">input, shallow, strict, startIndex</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> output = [], idx = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = startIndex || <span class="number">0</span>, length = getLength(input); i &lt; length; i++) &#123;</div><div class="line">      <span class="keyword">var</span> value = input[i];</div><div class="line">      <span class="keyword">if</span> (isArrayLike(value) &amp;&amp; (_.isArray(value) || _.isArguments(value))) &#123;</div><div class="line">        <span class="comment">//flatten current level of array or arguments object</span></div><div class="line">        <span class="keyword">if</span> (!shallow) value = flatten(value, shallow, strict);</div><div class="line">        <span class="keyword">var</span> j = <span class="number">0</span>, len = value.length;</div><div class="line">        output.length += len;</div><div class="line">        <span class="keyword">while</span> (j &lt; len) &#123;</div><div class="line">          output[idx++] = value[j++];</div><div class="line">        &#125;</div><div class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!strict) &#123;</div><div class="line">        output[idx++] = value;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> output;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Flatten out an array, either recursively (by default), or just one level.</span></div><div class="line">  _.flatten = <span class="function"><span class="keyword">function</span>(<span class="params">array, shallow</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> flatten(array, shallow, <span class="literal">false</span>);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return a version of the array that does not contain the specified value(s).</span></div><div class="line">  _.without = <span class="function"><span class="keyword">function</span>(<span class="params">array</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.difference(array, slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Produce a duplicate-free version of the array. If the array has already</span></div><div class="line">  <span class="comment">// been sorted, you have the option of using a faster algorithm.</span></div><div class="line">  <span class="comment">// Aliased as `unique`.</span></div><div class="line">  _.uniq = _.unique = <span class="function"><span class="keyword">function</span>(<span class="params">array, isSorted, iteratee, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!_.isBoolean(isSorted)) &#123;</div><div class="line">      context = iteratee;</div><div class="line">      iteratee = isSorted;</div><div class="line">      isSorted = <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (iteratee != <span class="literal">null</span>) iteratee = cb(iteratee, context);</div><div class="line">    <span class="keyword">var</span> result = [];</div><div class="line">    <span class="keyword">var</span> seen = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = getLength(array); i &lt; length; i++) &#123;</div><div class="line">      <span class="keyword">var</span> value = array[i],</div><div class="line">          computed = iteratee ? iteratee(value, i, array) : value;</div><div class="line">      <span class="keyword">if</span> (isSorted) &#123;</div><div class="line">        <span class="keyword">if</span> (!i || seen !== computed) result.push(value);</div><div class="line">        seen = computed;</div><div class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (iteratee) &#123;</div><div class="line">        <span class="keyword">if</span> (!_.contains(seen, computed)) &#123;</div><div class="line">          seen.push(computed);</div><div class="line">          result.push(value);</div><div class="line">        &#125;</div><div class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!_.contains(result, value)) &#123;</div><div class="line">        result.push(value);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Produce an array that contains the union: each distinct element from all of</span></div><div class="line">  <span class="comment">// the passed-in arrays.</span></div><div class="line">  _.union = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.uniq(flatten(<span class="built_in">arguments</span>, <span class="literal">true</span>, <span class="literal">true</span>));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Produce an array that contains every item shared between all the</span></div><div class="line">  <span class="comment">// passed-in arrays.</span></div><div class="line">  _.intersection = <span class="function"><span class="keyword">function</span>(<span class="params">array</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = [];</div><div class="line">    <span class="keyword">var</span> argsLength = <span class="built_in">arguments</span>.length;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = getLength(array); i &lt; length; i++) &#123;</div><div class="line">      <span class="keyword">var</span> item = array[i];</div><div class="line">      <span class="keyword">if</span> (_.contains(result, item)) <span class="keyword">continue</span>;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">1</span>; j &lt; argsLength; j++) &#123;</div><div class="line">        <span class="keyword">if</span> (!_.contains(<span class="built_in">arguments</span>[j], item)) <span class="keyword">break</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (j === argsLength) result.push(item);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Take the difference between one array and a number of other arrays.</span></div><div class="line">  <span class="comment">// Only the elements present in just the first array will remain.</span></div><div class="line">  _.difference = <span class="function"><span class="keyword">function</span>(<span class="params">array</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> rest = flatten(<span class="built_in">arguments</span>, <span class="literal">true</span>, <span class="literal">true</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">return</span> _.filter(array, <span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> !_.contains(rest, value);</div><div class="line">    &#125;);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Zip together multiple lists into a single array -- elements that share</span></div><div class="line">  <span class="comment">// an index go together.</span></div><div class="line">  _.zip = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.unzip(<span class="built_in">arguments</span>);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Complement of _.zip. Unzip accepts an array of arrays and groups</span></div><div class="line">  <span class="comment">// each array's elements on shared indices</span></div><div class="line">  _.unzip = <span class="function"><span class="keyword">function</span>(<span class="params">array</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> length = array &amp;&amp; _.max(array, getLength).length || <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> result = <span class="built_in">Array</span>(length);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">      result[index] = _.pluck(array, index);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Converts lists into objects. Pass either a single array of `[key, value]`</span></div><div class="line">  <span class="comment">// pairs, or two parallel arrays of the same length -- one of keys, and one of</span></div><div class="line">  <span class="comment">// the corresponding values.</span></div><div class="line">  _.object = <span class="function"><span class="keyword">function</span>(<span class="params">list, values</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = &#123;&#125;;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = getLength(list); i &lt; length; i++) &#123;</div><div class="line">      <span class="keyword">if</span> (values) &#123;</div><div class="line">        result[list[i]] = values[i];</div><div class="line">      &#125; <span class="keyword">else</span> &#123;</div><div class="line">        result[list[i][<span class="number">0</span>]] = list[i][<span class="number">1</span>];</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Generator function to create the findIndex and findLastIndex functions</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">createPredicateIndexFinder</span>(<span class="params">dir</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">array, predicate, context</span>) </span>&#123;</div><div class="line">      predicate = cb(predicate, context);</div><div class="line">      <span class="keyword">var</span> length = getLength(array);</div><div class="line">      <span class="keyword">var</span> index = dir &gt; <span class="number">0</span> ? <span class="number">0</span> : length - <span class="number">1</span>;</div><div class="line">      <span class="keyword">for</span> (; index &gt;= <span class="number">0</span> &amp;&amp; index &lt; length; index += dir) &#123;</div><div class="line">        <span class="keyword">if</span> (predicate(array[index], index, array)) <span class="keyword">return</span> index;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Returns the first index on an array-like that passes a predicate test</span></div><div class="line">  _.findIndex = createPredicateIndexFinder(<span class="number">1</span>);</div><div class="line">  _.findLastIndex = createPredicateIndexFinder(<span class="number">-1</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Use a comparator function to figure out the smallest index at which</span></div><div class="line">  <span class="comment">// an object should be inserted so as to maintain order. Uses binary search.</span></div><div class="line">  _.sortedIndex = <span class="function"><span class="keyword">function</span>(<span class="params">array, obj, iteratee, context</span>) </span>&#123;</div><div class="line">    iteratee = cb(iteratee, context, <span class="number">1</span>);</div><div class="line">    <span class="keyword">var</span> value = iteratee(obj);</div><div class="line">    <span class="keyword">var</span> low = <span class="number">0</span>, high = getLength(array);</div><div class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</div><div class="line">      <span class="keyword">var</span> mid = <span class="built_in">Math</span>.floor((low + high) / <span class="number">2</span>);</div><div class="line">      <span class="keyword">if</span> (iteratee(array[mid]) &lt; value) low = mid + <span class="number">1</span>; <span class="keyword">else</span> high = mid;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> low;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Generator function to create the indexOf and lastIndexOf functions</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">createIndexFinder</span>(<span class="params">dir, predicateFind, sortedIndex</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">array, item, idx</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> i = <span class="number">0</span>, length = getLength(array);</div><div class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> idx == <span class="string">'number'</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (dir &gt; <span class="number">0</span>) &#123;</div><div class="line">            i = idx &gt;= <span class="number">0</span> ? idx : <span class="built_in">Math</span>.max(idx + length, i);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            length = idx &gt;= <span class="number">0</span> ? <span class="built_in">Math</span>.min(idx + <span class="number">1</span>, length) : idx + length + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sortedIndex &amp;&amp; idx &amp;&amp; length) &#123;</div><div class="line">        idx = sortedIndex(array, item);</div><div class="line">        <span class="keyword">return</span> array[idx] === item ? idx : <span class="number">-1</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (item !== item) &#123;</div><div class="line">        idx = predicateFind(slice.call(array, i, length), _.isNaN);</div><div class="line">        <span class="keyword">return</span> idx &gt;= <span class="number">0</span> ? idx + i : <span class="number">-1</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">for</span> (idx = dir &gt; <span class="number">0</span> ? i : length - <span class="number">1</span>; idx &gt;= <span class="number">0</span> &amp;&amp; idx &lt; length; idx += dir) &#123;</div><div class="line">        <span class="keyword">if</span> (array[idx] === item) <span class="keyword">return</span> idx;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Return the position of the first occurrence of an item in an array,</span></div><div class="line">  <span class="comment">// or -1 if the item is not included in the array.</span></div><div class="line">  <span class="comment">// If the array is large and already in sort order, pass `true`</span></div><div class="line">  <span class="comment">// for **isSorted** to use binary search.</span></div><div class="line">  _.indexOf = createIndexFinder(<span class="number">1</span>, _.findIndex, _.sortedIndex);</div><div class="line">  _.lastIndexOf = createIndexFinder(<span class="number">-1</span>, _.findLastIndex);</div><div class="line"></div><div class="line">  <span class="comment">// Generate an integer Array containing an arithmetic progression. A port of</span></div><div class="line">  <span class="comment">// the native Python `range()` function. See</span></div><div class="line">  <span class="comment">// [the Python documentation](http://docs.python.org/library/functions.html#range).</span></div><div class="line">  _.range = <span class="function"><span class="keyword">function</span>(<span class="params">start, stop, step</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (stop == <span class="literal">null</span>) &#123;</div><div class="line">      stop = start || <span class="number">0</span>;</div><div class="line">      start = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    step = step || <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> length = <span class="built_in">Math</span>.max(<span class="built_in">Math</span>.ceil((stop - start) / step), <span class="number">0</span>);</div><div class="line">    <span class="keyword">var</span> range = <span class="built_in">Array</span>(length);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> idx = <span class="number">0</span>; idx &lt; length; idx++, start += step) &#123;</div><div class="line">      range[idx] = start;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> range;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Function (ahem) Functions</span></div><div class="line">  <span class="comment">// ------------------</span></div><div class="line"></div><div class="line">  <span class="comment">// Determines whether to execute a function as a constructor</span></div><div class="line">  <span class="comment">// or a normal function with the provided arguments</span></div><div class="line">  <span class="keyword">var</span> executeBound = <span class="function"><span class="keyword">function</span>(<span class="params">sourceFunc, boundFunc, context, callingContext, args</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!(callingContext <span class="keyword">instanceof</span> boundFunc)) <span class="keyword">return</span> sourceFunc.apply(context, args);</div><div class="line">    <span class="keyword">var</span> self = baseCreate(sourceFunc.prototype);</div><div class="line">    <span class="keyword">var</span> result = sourceFunc.apply(self, args);</div><div class="line">    <span class="keyword">if</span> (_.isObject(result)) <span class="keyword">return</span> result;</div><div class="line">    <span class="keyword">return</span> self;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Create a function bound to a given object (assigning `this`, and arguments,</span></div><div class="line">  <span class="comment">// optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if</span></div><div class="line">  <span class="comment">// available.</span></div><div class="line">  _.bind = <span class="function"><span class="keyword">function</span>(<span class="params">func, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (nativeBind &amp;&amp; func.bind === nativeBind) <span class="keyword">return</span> nativeBind.apply(func, slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>));</div><div class="line">    <span class="keyword">if</span> (!_.isFunction(func)) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Bind must be called on a function'</span>);</div><div class="line">    <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</div><div class="line">    <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> executeBound(func, bound, context, <span class="keyword">this</span>, args.concat(slice.call(<span class="built_in">arguments</span>)));</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> bound;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Partially apply a function by creating a version that has had some of its</span></div><div class="line">  <span class="comment">// arguments pre-filled, without changing its dynamic `this` context. _ acts</span></div><div class="line">  <span class="comment">// as a placeholder, allowing any combination of arguments to be pre-filled.</span></div><div class="line">  _.partial = <span class="function"><span class="keyword">function</span>(<span class="params">func</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> boundArgs = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> position = <span class="number">0</span>, length = boundArgs.length;</div><div class="line">      <span class="keyword">var</span> args = <span class="built_in">Array</span>(length);</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</div><div class="line">        args[i] = boundArgs[i] === _ ? <span class="built_in">arguments</span>[position++] : boundArgs[i];</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">while</span> (position &lt; <span class="built_in">arguments</span>.length) args.push(<span class="built_in">arguments</span>[position++]);</div><div class="line">      <span class="keyword">return</span> executeBound(func, bound, <span class="keyword">this</span>, <span class="keyword">this</span>, args);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> bound;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Bind a number of an object's methods to that object. Remaining arguments</span></div><div class="line">  <span class="comment">// are the method names to be bound. Useful for ensuring that all callbacks</span></div><div class="line">  <span class="comment">// defined on an object belong to it.</span></div><div class="line">  _.bindAll = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> i, length = <span class="built_in">arguments</span>.length, key;</div><div class="line">    <span class="keyword">if</span> (length &lt;= <span class="number">1</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'bindAll must be passed function names'</span>);</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; length; i++) &#123;</div><div class="line">      key = <span class="built_in">arguments</span>[i];</div><div class="line">      obj[key] = _.bind(obj[key], obj);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Memoize an expensive function by storing its results.</span></div><div class="line">  _.memoize = <span class="function"><span class="keyword">function</span>(<span class="params">func, hasher</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> memoize = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> cache = memoize.cache;</div><div class="line">      <span class="keyword">var</span> address = <span class="string">''</span> + (hasher ? hasher.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>) : key);</div><div class="line">      <span class="keyword">if</span> (!_.has(cache, address)) cache[address] = func.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">      <span class="keyword">return</span> cache[address];</div><div class="line">    &#125;;</div><div class="line">    memoize.cache = &#123;&#125;;</div><div class="line">    <span class="keyword">return</span> memoize;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Delays a function for the given number of milliseconds, and then calls</span></div><div class="line">  <span class="comment">// it with the arguments supplied.</span></div><div class="line">  _.delay = <span class="function"><span class="keyword">function</span>(<span class="params">func, wait</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</div><div class="line">    <span class="keyword">return</span> setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> func.apply(<span class="literal">null</span>, args);</div><div class="line">    &#125;, wait);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Defers a function, scheduling it to run after the current call stack has</span></div><div class="line">  <span class="comment">// cleared.</span></div><div class="line">  _.defer = _.partial(_.delay, _, <span class="number">1</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Returns a function, that, when invoked, will only be triggered at most once</span></div><div class="line">  <span class="comment">// during a given window of time. Normally, the throttled function will run</span></div><div class="line">  <span class="comment">// as much as it can, without ever going more than once per `wait` duration;</span></div><div class="line">  <span class="comment">// but if you'd like to disable the execution on the leading edge, pass</span></div><div class="line">  <span class="comment">// `&#123;leading: false&#125;`. To disable execution on the trailing edge, ditto.</span></div><div class="line">  _.throttle = <span class="function"><span class="keyword">function</span>(<span class="params">func, wait, options</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> context, args, result;</div><div class="line">    <span class="keyword">var</span> timeout = <span class="literal">null</span>;</div><div class="line">    <span class="keyword">var</span> previous = <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (!options) options = &#123;&#125;;</div><div class="line">    <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      previous = options.leading === <span class="literal">false</span> ? <span class="number">0</span> : _.now();</div><div class="line">      timeout = <span class="literal">null</span>;</div><div class="line">      result = func.apply(context, args);</div><div class="line">      <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> now = _.now();</div><div class="line">      <span class="keyword">if</span> (!previous &amp;&amp; options.leading === <span class="literal">false</span>) previous = now;</div><div class="line">      <span class="keyword">var</span> remaining = wait - (now - previous);</div><div class="line">      context = <span class="keyword">this</span>;</div><div class="line">      args = <span class="built_in">arguments</span>;</div><div class="line">      <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span> || remaining &gt; wait) &#123;</div><div class="line">        <span class="keyword">if</span> (timeout) &#123;</div><div class="line">          clearTimeout(timeout);</div><div class="line">          timeout = <span class="literal">null</span>;</div><div class="line">        &#125;</div><div class="line">        previous = now;</div><div class="line">        result = func.apply(context, args);</div><div class="line">        <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</div><div class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!timeout &amp;&amp; options.trailing !== <span class="literal">false</span>) &#123;</div><div class="line">        timeout = setTimeout(later, remaining);</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> result;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns a function, that, as long as it continues to be invoked, will not</span></div><div class="line">  <span class="comment">// be triggered. The function will be called after it stops being called for</span></div><div class="line">  <span class="comment">// N milliseconds. If `immediate` is passed, trigger the function on the</span></div><div class="line">  <span class="comment">// leading edge, instead of the trailing.</span></div><div class="line">  _.debounce = <span class="function"><span class="keyword">function</span>(<span class="params">func, wait, immediate</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> timeout, args, context, timestamp, result;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> last = _.now() - timestamp;</div><div class="line"></div><div class="line">      <span class="keyword">if</span> (last &lt; wait &amp;&amp; last &gt;= <span class="number">0</span>) &#123;</div><div class="line">        timeout = setTimeout(later, wait - last);</div><div class="line">      &#125; <span class="keyword">else</span> &#123;</div><div class="line">        timeout = <span class="literal">null</span>;</div><div class="line">        <span class="keyword">if</span> (!immediate) &#123;</div><div class="line">          result = func.apply(context, args);</div><div class="line">          <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      context = <span class="keyword">this</span>;</div><div class="line">      args = <span class="built_in">arguments</span>;</div><div class="line">      timestamp = _.now();</div><div class="line">      <span class="keyword">var</span> callNow = immediate &amp;&amp; !timeout;</div><div class="line">      <span class="keyword">if</span> (!timeout) timeout = setTimeout(later, wait);</div><div class="line">      <span class="keyword">if</span> (callNow) &#123;</div><div class="line">        result = func.apply(context, args);</div><div class="line">        context = args = <span class="literal">null</span>;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="keyword">return</span> result;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns the first function passed as an argument to the second,</span></div><div class="line">  <span class="comment">// allowing you to adjust arguments, run code before and after, and</span></div><div class="line">  <span class="comment">// conditionally execute the original function.</span></div><div class="line">  _.wrap = <span class="function"><span class="keyword">function</span>(<span class="params">func, wrapper</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.partial(wrapper, func);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns a negated version of the passed-in predicate.</span></div><div class="line">  _.negate = <span class="function"><span class="keyword">function</span>(<span class="params">predicate</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> !predicate.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns a function that is the composition of a list of functions, each</span></div><div class="line">  <span class="comment">// consuming the return value of the function that follows.</span></div><div class="line">  _.compose = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> args = <span class="built_in">arguments</span>;</div><div class="line">    <span class="keyword">var</span> start = args.length - <span class="number">1</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> i = start;</div><div class="line">      <span class="keyword">var</span> result = args[start].apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">      <span class="keyword">while</span> (i--) result = args[i].call(<span class="keyword">this</span>, result);</div><div class="line">      <span class="keyword">return</span> result;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns a function that will only be executed on and after the Nth call.</span></div><div class="line">  _.after = <span class="function"><span class="keyword">function</span>(<span class="params">times, func</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (--times &lt; <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span> func.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">      &#125;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns a function that will only be executed up to (but not including) the Nth call.</span></div><div class="line">  _.before = <span class="function"><span class="keyword">function</span>(<span class="params">times, func</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> memo;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (--times &gt; <span class="number">0</span>) &#123;</div><div class="line">        memo = func.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">if</span> (times &lt;= <span class="number">1</span>) func = <span class="literal">null</span>;</div><div class="line">      <span class="keyword">return</span> memo;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns a function that will be executed at most one time, no matter how</span></div><div class="line">  <span class="comment">// often you call it. Useful for lazy initialization.</span></div><div class="line">  _.once = _.partial(_.before, <span class="number">2</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Object Functions</span></div><div class="line">  <span class="comment">// ----------------</span></div><div class="line"></div><div class="line">  <span class="comment">// Keys in IE &lt; 9 that won't be iterated by `for key in ...` and thus missed.</span></div><div class="line">  <span class="keyword">var</span> hasEnumBug = !&#123;<span class="attr">toString</span>: <span class="literal">null</span>&#125;.propertyIsEnumerable(<span class="string">'toString'</span>);</div><div class="line">  <span class="keyword">var</span> nonEnumerableProps = [<span class="string">'valueOf'</span>, <span class="string">'isPrototypeOf'</span>, <span class="string">'toString'</span>,</div><div class="line">                      <span class="string">'propertyIsEnumerable'</span>, <span class="string">'hasOwnProperty'</span>, <span class="string">'toLocaleString'</span>];</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">collectNonEnumProps</span>(<span class="params">obj, keys</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> nonEnumIdx = nonEnumerableProps.length;</div><div class="line">    <span class="keyword">var</span> <span class="keyword">constructor</span> = obj.<span class="keyword">constructor</span>;</div><div class="line">    var proto = (_.isFunction(<span class="keyword">constructor</span>) &amp;&amp; <span class="keyword">constructor</span>.prototype) || ObjProto;</div><div class="line"></div><div class="line">    // Constructor is a special case.</div><div class="line">    var prop = '<span class="keyword">constructor</span>';</div><div class="line">    if (_.has(obj, prop) &amp;&amp; !_.contains(keys, prop)) keys.push(prop);</div><div class="line"></div><div class="line">    while (nonEnumIdx--) &#123;</div><div class="line">      prop = nonEnumerableProps[nonEnumIdx];</div><div class="line">      <span class="keyword">if</span> (prop <span class="keyword">in</span> obj &amp;&amp; obj[prop] !== proto[prop] &amp;&amp; !_.contains(keys, prop)) &#123;</div><div class="line">        keys.push(prop);</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Retrieve the names of an object's own properties.</span></div><div class="line">  <span class="comment">// Delegates to **ECMAScript 5**'s native `Object.keys`</span></div><div class="line">  _.keys = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!_.isObject(obj)) <span class="keyword">return</span> [];</div><div class="line">    <span class="keyword">if</span> (nativeKeys) <span class="keyword">return</span> nativeKeys(obj);</div><div class="line">    <span class="keyword">var</span> keys = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) <span class="keyword">if</span> (_.has(obj, key)) keys.push(key);</div><div class="line">    <span class="comment">// Ahem, IE &lt; 9.</span></div><div class="line">    <span class="keyword">if</span> (hasEnumBug) collectNonEnumProps(obj, keys);</div><div class="line">    <span class="keyword">return</span> keys;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Retrieve all the property names of an object.</span></div><div class="line">  _.allKeys = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!_.isObject(obj)) <span class="keyword">return</span> [];</div><div class="line">    <span class="keyword">var</span> keys = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) keys.push(key);</div><div class="line">    <span class="comment">// Ahem, IE &lt; 9.</span></div><div class="line">    <span class="keyword">if</span> (hasEnumBug) collectNonEnumProps(obj, keys);</div><div class="line">    <span class="keyword">return</span> keys;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Retrieve the values of an object's properties.</span></div><div class="line">  _.values = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> keys = _.keys(obj);</div><div class="line">    <span class="keyword">var</span> length = keys.length;</div><div class="line">    <span class="keyword">var</span> values = <span class="built_in">Array</span>(length);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</div><div class="line">      values[i] = obj[keys[i]];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> values;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns the results of applying the iteratee to each element of the object</span></div><div class="line">  <span class="comment">// In contrast to _.map it returns an object</span></div><div class="line">  _.mapObject = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">    iteratee = cb(iteratee, context);</div><div class="line">    <span class="keyword">var</span> keys =  _.keys(obj),</div><div class="line">          length = keys.length,</div><div class="line">          results = &#123;&#125;,</div><div class="line">          currentKey;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">        currentKey = keys[index];</div><div class="line">        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> results;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Convert an object into a list of `[key, value]` pairs.</span></div><div class="line">  _.pairs = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> keys = _.keys(obj);</div><div class="line">    <span class="keyword">var</span> length = keys.length;</div><div class="line">    <span class="keyword">var</span> pairs = <span class="built_in">Array</span>(length);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</div><div class="line">      pairs[i] = [keys[i], obj[keys[i]]];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> pairs;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Invert the keys and values of an object. The values must be serializable.</span></div><div class="line">  _.invert = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = &#123;&#125;;</div><div class="line">    <span class="keyword">var</span> keys = _.keys(obj);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = keys.length; i &lt; length; i++) &#123;</div><div class="line">      result[obj[keys[i]]] = keys[i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return a sorted list of the function names available on the object.</span></div><div class="line">  <span class="comment">// Aliased as `methods`</span></div><div class="line">  _.functions = _.methods = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> names = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</div><div class="line">      <span class="keyword">if</span> (_.isFunction(obj[key])) names.push(key);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> names.sort();</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Extend a given object with all the properties in passed-in object(s).</span></div><div class="line">  _.extend = createAssigner(_.allKeys);</div><div class="line"></div><div class="line">  <span class="comment">// Assigns a given object with all the own properties in the passed-in object(s)</span></div><div class="line">  <span class="comment">// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)</span></div><div class="line">  _.extendOwn = _.assign = createAssigner(_.keys);</div><div class="line"></div><div class="line">  <span class="comment">// Returns the first key on an object that passes a predicate test</span></div><div class="line">  _.findKey = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">    predicate = cb(predicate, context);</div><div class="line">    <span class="keyword">var</span> keys = _.keys(obj), key;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = keys.length; i &lt; length; i++) &#123;</div><div class="line">      key = keys[i];</div><div class="line">      <span class="keyword">if</span> (predicate(obj[key], key, obj)) <span class="keyword">return</span> key;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return a copy of the object only containing the whitelisted properties.</span></div><div class="line">  _.pick = <span class="function"><span class="keyword">function</span>(<span class="params">object, oiteratee, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = &#123;&#125;, obj = object, iteratee, keys;</div><div class="line">    <span class="keyword">if</span> (obj == <span class="literal">null</span>) <span class="keyword">return</span> result;</div><div class="line">    <span class="keyword">if</span> (_.isFunction(oiteratee)) &#123;</div><div class="line">      keys = _.allKeys(obj);</div><div class="line">      iteratee = optimizeCb(oiteratee, context);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      keys = flatten(<span class="built_in">arguments</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="number">1</span>);</div><div class="line">      iteratee = <span class="function"><span class="keyword">function</span>(<span class="params">value, key, obj</span>) </span>&#123; <span class="keyword">return</span> key <span class="keyword">in</span> obj; &#125;;</div><div class="line">      obj = <span class="built_in">Object</span>(obj);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = keys.length; i &lt; length; i++) &#123;</div><div class="line">      <span class="keyword">var</span> key = keys[i];</div><div class="line">      <span class="keyword">var</span> value = obj[key];</div><div class="line">      <span class="keyword">if</span> (iteratee(value, key, obj)) result[key] = value;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">   <span class="comment">// Return a copy of the object without the blacklisted properties.</span></div><div class="line">  _.omit = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (_.isFunction(iteratee)) &#123;</div><div class="line">      iteratee = _.negate(iteratee);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">var</span> keys = _.map(flatten(<span class="built_in">arguments</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="number">1</span>), <span class="built_in">String</span>);</div><div class="line">      iteratee = <span class="function"><span class="keyword">function</span>(<span class="params">value, key</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> !_.contains(keys, key);</div><div class="line">      &#125;;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _.pick(obj, iteratee, context);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Fill in a given object with default properties.</span></div><div class="line">  _.defaults = createAssigner(_.allKeys, <span class="literal">true</span>);</div><div class="line"></div><div class="line">  <span class="comment">// Creates an object that inherits from the given prototype object.</span></div><div class="line">  <span class="comment">// If additional properties are provided then they will be added to the</span></div><div class="line">  <span class="comment">// created object.</span></div><div class="line">  _.create = <span class="function"><span class="keyword">function</span>(<span class="params">prototype, props</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = baseCreate(prototype);</div><div class="line">    <span class="keyword">if</span> (props) _.extendOwn(result, props);</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Create a (shallow-cloned) duplicate of an object.</span></div><div class="line">  _.clone = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!_.isObject(obj)) <span class="keyword">return</span> obj;</div><div class="line">    <span class="keyword">return</span> _.isArray(obj) ? obj.slice() : _.extend(&#123;&#125;, obj);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Invokes interceptor with the obj, and then returns obj.</span></div><div class="line">  <span class="comment">// The primary purpose of this method is to "tap into" a method chain, in</span></div><div class="line">  <span class="comment">// order to perform operations on intermediate results within the chain.</span></div><div class="line">  _.tap = <span class="function"><span class="keyword">function</span>(<span class="params">obj, interceptor</span>) </span>&#123;</div><div class="line">    interceptor(obj);</div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns whether an object has a given set of `key:value` pairs.</span></div><div class="line">  _.isMatch = <span class="function"><span class="keyword">function</span>(<span class="params">object, attrs</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> keys = _.keys(attrs), length = keys.length;</div><div class="line">    <span class="keyword">if</span> (object == <span class="literal">null</span>) <span class="keyword">return</span> !length;</div><div class="line">    <span class="keyword">var</span> obj = <span class="built_in">Object</span>(object);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</div><div class="line">      <span class="keyword">var</span> key = keys[i];</div><div class="line">      <span class="keyword">if</span> (attrs[key] !== obj[key] || !(key <span class="keyword">in</span> obj)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line"></div><div class="line">  <span class="comment">// Internal recursive comparison function for `isEqual`.</span></div><div class="line">  <span class="keyword">var</span> eq = <span class="function"><span class="keyword">function</span>(<span class="params">a, b, aStack, bStack</span>) </span>&#123;</div><div class="line">    <span class="comment">// Identical objects are equal. `0 === -0`, but they aren't identical.</span></div><div class="line">    <span class="comment">// See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).</span></div><div class="line">    <span class="keyword">if</span> (a === b) <span class="keyword">return</span> a !== <span class="number">0</span> || <span class="number">1</span> / a === <span class="number">1</span> / b;</div><div class="line">    <span class="comment">// A strict comparison is necessary because `null == undefined`.</span></div><div class="line">    <span class="keyword">if</span> (a == <span class="literal">null</span> || b == <span class="literal">null</span>) <span class="keyword">return</span> a === b;</div><div class="line">    <span class="comment">// Unwrap any wrapped objects.</span></div><div class="line">    <span class="keyword">if</span> (a <span class="keyword">instanceof</span> _) a = a._wrapped;</div><div class="line">    <span class="keyword">if</span> (b <span class="keyword">instanceof</span> _) b = b._wrapped;</div><div class="line">    <span class="comment">// Compare `[[Class]]` names.</span></div><div class="line">    <span class="keyword">var</span> className = toString.call(a);</div><div class="line">    <span class="keyword">if</span> (className !== toString.call(b)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">switch</span> (className) &#123;</div><div class="line">      <span class="comment">// Strings, numbers, regular expressions, dates, and booleans are compared by value.</span></div><div class="line">      <span class="keyword">case</span> <span class="string">'[object RegExp]'</span>:</div><div class="line">      <span class="comment">// RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')</span></div><div class="line">      <span class="keyword">case</span> <span class="string">'[object String]'</span>:</div><div class="line">        <span class="comment">// Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is</span></div><div class="line">        <span class="comment">// equivalent to `new String("5")`.</span></div><div class="line">        <span class="keyword">return</span> <span class="string">''</span> + a === <span class="string">''</span> + b;</div><div class="line">      <span class="keyword">case</span> <span class="string">'[object Number]'</span>:</div><div class="line">        <span class="comment">// `NaN`s are equivalent, but non-reflexive.</span></div><div class="line">        <span class="comment">// Object(NaN) is equivalent to NaN</span></div><div class="line">        <span class="keyword">if</span> (+a !== +a) <span class="keyword">return</span> +b !== +b;</div><div class="line">        <span class="comment">// An `egal` comparison is performed for other numeric values.</span></div><div class="line">        <span class="keyword">return</span> +a === <span class="number">0</span> ? <span class="number">1</span> / +a === <span class="number">1</span> / b : +a === +b;</div><div class="line">      <span class="keyword">case</span> <span class="string">'[object Date]'</span>:</div><div class="line">      <span class="keyword">case</span> <span class="string">'[object Boolean]'</span>:</div><div class="line">        <span class="comment">// Coerce dates and booleans to numeric primitive values. Dates are compared by their</span></div><div class="line">        <span class="comment">// millisecond representations. Note that invalid dates with millisecond representations</span></div><div class="line">        <span class="comment">// of `NaN` are not equivalent.</span></div><div class="line">        <span class="keyword">return</span> +a === +b;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> areArrays = className === <span class="string">'[object Array]'</span>;</div><div class="line">    <span class="keyword">if</span> (!areArrays) &#123;</div><div class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> a != <span class="string">'object'</span> || <span class="keyword">typeof</span> b != <span class="string">'object'</span>) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">      <span class="comment">// Objects with different constructors are not equivalent, but `Object`s or `Array`s</span></div><div class="line">      <span class="comment">// from different frames are.</span></div><div class="line">      <span class="keyword">var</span> aCtor = a.constructor, bCtor = b.constructor;</div><div class="line">      <span class="keyword">if</span> (aCtor !== bCtor &amp;&amp; !(_.isFunction(aCtor) &amp;&amp; aCtor <span class="keyword">instanceof</span> aCtor &amp;&amp;</div><div class="line">                               _.isFunction(bCtor) &amp;&amp; bCtor <span class="keyword">instanceof</span> bCtor)</div><div class="line">                          &amp;&amp; (<span class="string">'constructor'</span> <span class="keyword">in</span> a &amp;&amp; <span class="string">'constructor'</span> <span class="keyword">in</span> b)) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// Assume equality for cyclic structures. The algorithm for detecting cyclic</span></div><div class="line">    <span class="comment">// structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.</span></div><div class="line"></div><div class="line">    <span class="comment">// Initializing stack of traversed objects.</span></div><div class="line">    <span class="comment">// It's done here since we only need them for objects and arrays comparison.</span></div><div class="line">    aStack = aStack || [];</div><div class="line">    bStack = bStack || [];</div><div class="line">    <span class="keyword">var</span> length = aStack.length;</div><div class="line">    <span class="keyword">while</span> (length--) &#123;</div><div class="line">      <span class="comment">// Linear search. Performance is inversely proportional to the number of</span></div><div class="line">      <span class="comment">// unique nested structures.</span></div><div class="line">      <span class="keyword">if</span> (aStack[length] === a) <span class="keyword">return</span> bStack[length] === b;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Add the first object to the stack of traversed objects.</span></div><div class="line">    aStack.push(a);</div><div class="line">    bStack.push(b);</div><div class="line"></div><div class="line">    <span class="comment">// Recursively compare objects and arrays.</span></div><div class="line">    <span class="keyword">if</span> (areArrays) &#123;</div><div class="line">      <span class="comment">// Compare array lengths to determine if a deep comparison is necessary.</span></div><div class="line">      length = a.length;</div><div class="line">      <span class="keyword">if</span> (length !== b.length) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">      <span class="comment">// Deep compare the contents, ignoring non-numeric properties.</span></div><div class="line">      <span class="keyword">while</span> (length--) &#123;</div><div class="line">        <span class="keyword">if</span> (!eq(a[length], b[length], aStack, bStack)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">      &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="comment">// Deep compare objects.</span></div><div class="line">      <span class="keyword">var</span> keys = _.keys(a), key;</div><div class="line">      length = keys.length;</div><div class="line">      <span class="comment">// Ensure that both objects contain the same number of properties before comparing deep equality.</span></div><div class="line">      <span class="keyword">if</span> (_.keys(b).length !== length) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">      <span class="keyword">while</span> (length--) &#123;</div><div class="line">        <span class="comment">// Deep compare each member</span></div><div class="line">        key = keys[length];</div><div class="line">        <span class="keyword">if</span> (!(_.has(b, key) &amp;&amp; eq(a[key], b[key], aStack, bStack))) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// Remove the first object from the stack of traversed objects.</span></div><div class="line">    aStack.pop();</div><div class="line">    bStack.pop();</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Perform a deep comparison to check if two objects are equal.</span></div><div class="line">  _.isEqual = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> eq(a, b);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Is a given array, string, or object empty?</span></div><div class="line">  <span class="comment">// An "empty" object has no enumerable own-properties.</span></div><div class="line">  _.isEmpty = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (obj == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">if</span> (isArrayLike(obj) &amp;&amp; (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) <span class="keyword">return</span> obj.length === <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> _.keys(obj).length === <span class="number">0</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Is a given value a DOM element?</span></div><div class="line">  _.isElement = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> !!(obj &amp;&amp; obj.nodeType === <span class="number">1</span>);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Is a given value an array?</span></div><div class="line">  <span class="comment">// Delegates to ECMA5's native Array.isArray</span></div><div class="line">  _.isArray = nativeIsArray || <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> toString.call(obj) === <span class="string">'[object Array]'</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Is a given variable an object?</span></div><div class="line">  _.isObject = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> type = <span class="keyword">typeof</span> obj;</div><div class="line">    <span class="keyword">return</span> type === <span class="string">'function'</span> || type === <span class="string">'object'</span> &amp;&amp; !!obj;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.</span></div><div class="line">  _.each([<span class="string">'Arguments'</span>, <span class="string">'Function'</span>, <span class="string">'String'</span>, <span class="string">'Number'</span>, <span class="string">'Date'</span>, <span class="string">'RegExp'</span>, <span class="string">'Error'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    _[<span class="string">'is'</span> + name] = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> toString.call(obj) === <span class="string">'[object '</span> + name + <span class="string">']'</span>;</div><div class="line">    &#125;;</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="comment">// Define a fallback version of the method in browsers (ahem, IE &lt; 9), where</span></div><div class="line">  <span class="comment">// there isn't any inspectable "Arguments" type.</span></div><div class="line">  <span class="keyword">if</span> (!_.isArguments(<span class="built_in">arguments</span>)) &#123;</div><div class="line">    _.isArguments = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> _.has(obj, <span class="string">'callee'</span>);</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,</span></div><div class="line">  <span class="comment">// IE 11 (#1621), and in Safari 8 (#1929).</span></div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> /./ != <span class="string">'function'</span> &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">Int8Array</span> != <span class="string">'object'</span>) &#123;</div><div class="line">    _.isFunction = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> obj == <span class="string">'function'</span> || <span class="literal">false</span>;</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// Is a given object a finite number?</span></div><div class="line">  _.isFinite = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">isFinite</span>(obj) &amp;&amp; !<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(obj));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Is the given value `NaN`? (NaN is the only number which does not equal itself).</span></div><div class="line">  _.isNaN = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.isNumber(obj) &amp;&amp; obj !== +obj;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Is a given value a boolean?</span></div><div class="line">  _.isBoolean = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> obj === <span class="literal">true</span> || obj === <span class="literal">false</span> || toString.call(obj) === <span class="string">'[object Boolean]'</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Is a given value equal to null?</span></div><div class="line">  _.isNull = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> obj === <span class="literal">null</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Is a given variable undefined?</span></div><div class="line">  _.isUndefined = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> obj === <span class="keyword">void</span> <span class="number">0</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Shortcut function for checking if an object has a given property directly</span></div><div class="line">  <span class="comment">// on itself (in other words, not on a prototype).</span></div><div class="line">  _.has = <span class="function"><span class="keyword">function</span>(<span class="params">obj, key</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> obj != <span class="literal">null</span> &amp;&amp; hasOwnProperty.call(obj, key);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Utility Functions</span></div><div class="line">  <span class="comment">// -----------------</span></div><div class="line"></div><div class="line">  <span class="comment">// Run Underscore.js in *noConflict* mode, returning the `_` variable to its</span></div><div class="line">  <span class="comment">// previous owner. Returns a reference to the Underscore object.</span></div><div class="line">  _.noConflict = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    root._ = previousUnderscore;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Keep the identity function around for default iteratees.</span></div><div class="line">  _.identity = <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> value;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Predicate-generating functions. Often useful outside of Underscore.</span></div><div class="line">  _.constant = <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> value;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  _.noop = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line">  _.property = property;</div><div class="line"></div><div class="line">  <span class="comment">// Generates a function for a given object that returns a given property.</span></div><div class="line">  _.propertyOf = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> obj == <span class="literal">null</span> ? <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; : <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> obj[key];</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Returns a predicate for checking whether an object has a given set of</span></div><div class="line">  <span class="comment">// `key:value` pairs.</span></div><div class="line">  _.matcher = _.matches = <span class="function"><span class="keyword">function</span>(<span class="params">attrs</span>) </span>&#123;</div><div class="line">    attrs = _.extendOwn(&#123;&#125;, attrs);</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> _.isMatch(obj, attrs);</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Run a function **n** times.</span></div><div class="line">  _.times = <span class="function"><span class="keyword">function</span>(<span class="params">n, iteratee, context</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> accum = <span class="built_in">Array</span>(<span class="built_in">Math</span>.max(<span class="number">0</span>, n));</div><div class="line">    iteratee = optimizeCb(iteratee, context, <span class="number">1</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; n; i++) accum[i] = iteratee(i);</div><div class="line">    <span class="keyword">return</span> accum;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Return a random integer between min and max (inclusive).</span></div><div class="line">  _.random = <span class="function"><span class="keyword">function</span>(<span class="params">min, max</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (max == <span class="literal">null</span>) &#123;</div><div class="line">      max = min;</div><div class="line">      min = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> min + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>));</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// A (possibly faster) way to get the current timestamp as an integer.</span></div><div class="line">  _.now = <span class="built_in">Date</span>.now || <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">   <span class="comment">// List of HTML entities for escaping.</span></div><div class="line">  <span class="keyword">var</span> escapeMap = &#123;</div><div class="line">    <span class="string">'&amp;'</span>: <span class="string">'&amp;amp;'</span>,</div><div class="line">    <span class="string">'&lt;'</span>: <span class="string">'&amp;lt;'</span>,</div><div class="line">    <span class="string">'&gt;'</span>: <span class="string">'&amp;gt;'</span>,</div><div class="line">    <span class="string">'"'</span>: <span class="string">'&amp;quot;'</span>,</div><div class="line">    <span class="string">"'"</span>: <span class="string">'&amp;#x27;'</span>,</div><div class="line">    <span class="string">'`'</span>: <span class="string">'&amp;#x60;'</span></div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">var</span> unescapeMap = _.invert(escapeMap);</div><div class="line"></div><div class="line">  <span class="comment">// Functions for escaping and unescaping strings to/from HTML interpolation.</span></div><div class="line">  <span class="keyword">var</span> createEscaper = <span class="function"><span class="keyword">function</span>(<span class="params">map</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> escaper = <span class="function"><span class="keyword">function</span>(<span class="params">match</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> map[match];</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// Regexes for identifying a key that needs to be escaped</span></div><div class="line">    <span class="keyword">var</span> source = <span class="string">'(?:'</span> + _.keys(map).join(<span class="string">'|'</span>) + <span class="string">')'</span>;</div><div class="line">    <span class="keyword">var</span> testRegexp = <span class="built_in">RegExp</span>(source);</div><div class="line">    <span class="keyword">var</span> replaceRegexp = <span class="built_in">RegExp</span>(source, <span class="string">'g'</span>);</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">string</span>) </span>&#123;</div><div class="line">      string = string == <span class="literal">null</span> ? <span class="string">''</span> : <span class="string">''</span> + string;</div><div class="line">      <span class="keyword">return</span> testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line">  _.escape = createEscaper(escapeMap);</div><div class="line">  _.unescape = createEscaper(unescapeMap);</div><div class="line"></div><div class="line">  <span class="comment">// If the value of the named `property` is a function then invoke it with the</span></div><div class="line">  <span class="comment">// `object` as context; otherwise, return it.</span></div><div class="line">  _.result = <span class="function"><span class="keyword">function</span>(<span class="params">object, property, fallback</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> value = object == <span class="literal">null</span> ? <span class="keyword">void</span> <span class="number">0</span> : object[property];</div><div class="line">    <span class="keyword">if</span> (value === <span class="keyword">void</span> <span class="number">0</span>) &#123;</div><div class="line">      value = fallback;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _.isFunction(value) ? value.call(object) : value;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Generate a unique integer id (unique within the entire client session).</span></div><div class="line">  <span class="comment">// Useful for temporary DOM ids.</span></div><div class="line">  <span class="keyword">var</span> idCounter = <span class="number">0</span>;</div><div class="line">  _.uniqueId = <span class="function"><span class="keyword">function</span>(<span class="params">prefix</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> id = ++idCounter + <span class="string">''</span>;</div><div class="line">    <span class="keyword">return</span> prefix ? prefix + id : id;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// By default, Underscore uses ERB-style template delimiters, change the</span></div><div class="line">  <span class="comment">// following template settings to use alternative delimiters.</span></div><div class="line">  _.templateSettings = &#123;</div><div class="line">    <span class="attr">evaluate</span>    : <span class="regexp">/&lt;%([\s\S]+?)%&gt;/g</span>,</div><div class="line">    <span class="attr">interpolate</span> : <span class="regexp">/&lt;%=([\s\S]+?)%&gt;/g</span>,</div><div class="line">    <span class="attr">escape</span>      : <span class="regexp">/&lt;%-([\s\S]+?)%&gt;/g</span></div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// When customizing `templateSettings`, if you don't want to define an</span></div><div class="line">  <span class="comment">// interpolation, evaluation or escaping regex, we need one that is</span></div><div class="line">  <span class="comment">// guaranteed not to match.</span></div><div class="line">  <span class="keyword">var</span> noMatch = <span class="regexp">/(.)^/</span>;</div><div class="line"></div><div class="line">  <span class="comment">// Certain characters need to be escaped so that they can be put into a</span></div><div class="line">  <span class="comment">// string literal.</span></div><div class="line">  <span class="keyword">var</span> escapes = &#123;</div><div class="line">    <span class="string">"'"</span>:      <span class="string">"'"</span>,</div><div class="line">    <span class="string">'\\'</span>:     <span class="string">'\\'</span>,</div><div class="line">    <span class="string">'\r'</span>:     <span class="string">'r'</span>,</div><div class="line">    <span class="string">'\n'</span>:     <span class="string">'n'</span>,</div><div class="line">    <span class="string">'\u2028'</span>: <span class="string">'u2028'</span>,</div><div class="line">    <span class="string">'\u2029'</span>: <span class="string">'u2029'</span></div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> escaper = <span class="regexp">/\\|'|\r|\n|\u2028|\u2029/g</span>;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> escapeChar = <span class="function"><span class="keyword">function</span>(<span class="params">match</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'\\'</span> + escapes[match];</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// JavaScript micro-templating, similar to John Resig's implementation.</span></div><div class="line">  <span class="comment">// Underscore templating handles arbitrary delimiters, preserves whitespace,</span></div><div class="line">  <span class="comment">// and correctly escapes quotes within interpolated code.</span></div><div class="line">  <span class="comment">// NB: `oldSettings` only exists for backwards compatibility.</span></div><div class="line">  _.template = <span class="function"><span class="keyword">function</span>(<span class="params">text, settings, oldSettings</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!settings &amp;&amp; oldSettings) settings = oldSettings;</div><div class="line">    settings = _.defaults(&#123;&#125;, settings, _.templateSettings);</div><div class="line"></div><div class="line">    <span class="comment">// Combine delimiters into one regular expression via alternation.</span></div><div class="line">    <span class="keyword">var</span> matcher = <span class="built_in">RegExp</span>([</div><div class="line">      (settings.escape || noMatch).source,</div><div class="line">      (settings.interpolate || noMatch).source,</div><div class="line">      (settings.evaluate || noMatch).source</div><div class="line">    ].join(<span class="string">'|'</span>) + <span class="string">'|$'</span>, <span class="string">'g'</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Compile the template source, escaping string literals appropriately.</span></div><div class="line">    <span class="keyword">var</span> index = <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> source = <span class="string">"__p+='"</span>;</div><div class="line">    text.replace(matcher, <span class="function"><span class="keyword">function</span>(<span class="params">match, escape, interpolate, evaluate, offset</span>) </span>&#123;</div><div class="line">      source += text.slice(index, offset).replace(escaper, escapeChar);</div><div class="line">      index = offset + match.length;</div><div class="line"></div><div class="line">      <span class="keyword">if</span> (<span class="built_in">escape</span>) &#123;</div><div class="line">        source += <span class="string">"'+\n((__t=("</span> + <span class="built_in">escape</span> + <span class="string">"))==null?'':_.escape(__t))+\n'"</span>;</div><div class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (interpolate) &#123;</div><div class="line">        source += <span class="string">"'+\n((__t=("</span> + interpolate + <span class="string">"))==null?'':__t)+\n'"</span>;</div><div class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (evaluate) &#123;</div><div class="line">        source += <span class="string">"';\n"</span> + evaluate + <span class="string">"\n__p+='"</span>;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="comment">// Adobe VMs need the match returned to produce the correct offest.</span></div><div class="line">      <span class="keyword">return</span> match;</div><div class="line">    &#125;);</div><div class="line">    source += <span class="string">"';\n"</span>;</div><div class="line"></div><div class="line">    <span class="comment">// If a variable is not specified, place data values in local scope.</span></div><div class="line">    <span class="keyword">if</span> (!settings.variable) source = <span class="string">'with(obj||&#123;&#125;)&#123;\n'</span> + source + <span class="string">'&#125;\n'</span>;</div><div class="line"></div><div class="line">    source = <span class="string">"var __t,__p='',__j=Array.prototype.join,"</span> +</div><div class="line">      <span class="string">"print=function()&#123;__p+=__j.call(arguments,'');&#125;;\n"</span> +</div><div class="line">      source + <span class="string">'return __p;\n'</span>;</div><div class="line"></div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">      <span class="keyword">var</span> render = <span class="keyword">new</span> <span class="built_in">Function</span>(settings.variable || <span class="string">'obj'</span>, <span class="string">'_'</span>, source);</div><div class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">      e.source = source;</div><div class="line">      <span class="keyword">throw</span> e;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> template = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> render.call(<span class="keyword">this</span>, data, _);</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// Provide the compiled source as a convenience for precompilation.</span></div><div class="line">    <span class="keyword">var</span> argument = settings.variable || <span class="string">'obj'</span>;</div><div class="line">    template.source = <span class="string">'function('</span> + argument + <span class="string">')&#123;\n'</span> + source + <span class="string">'&#125;'</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> template;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Add a "chain" function. Start chaining a wrapped Underscore object.</span></div><div class="line">  _.chain = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> instance = _(obj);</div><div class="line">    instance._chain = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">return</span> instance;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// OOP</span></div><div class="line">  <span class="comment">// ---------------</span></div><div class="line">  <span class="comment">// If Underscore is called as a function, it returns a wrapped object that</span></div><div class="line">  <span class="comment">// can be used OO-style. This wrapper holds altered versions of all the</span></div><div class="line">  <span class="comment">// underscore functions. Wrapped objects may be chained.</span></div><div class="line"></div><div class="line">  <span class="comment">// Helper function to continue chaining intermediate results.</span></div><div class="line">  <span class="keyword">var</span> result = <span class="function"><span class="keyword">function</span>(<span class="params">instance, obj</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> instance._chain ? _(obj).chain() : obj;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Add your own custom functions to the Underscore object.</span></div><div class="line">  _.mixin = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">    _.each(_.functions(obj), <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> func = _[name] = obj[name];</div><div class="line">      _.prototype[name] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> args = [<span class="keyword">this</span>._wrapped];</div><div class="line">        push.apply(args, <span class="built_in">arguments</span>);</div><div class="line">        <span class="keyword">return</span> result(<span class="keyword">this</span>, func.apply(_, args));</div><div class="line">      &#125;;</div><div class="line">    &#125;);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Add all of the Underscore functions to the wrapper object.</span></div><div class="line">  _.mixin(_);</div><div class="line"></div><div class="line">  <span class="comment">// Add all mutator Array functions to the wrapper.</span></div><div class="line">  _.each([<span class="string">'pop'</span>, <span class="string">'push'</span>, <span class="string">'reverse'</span>, <span class="string">'shift'</span>, <span class="string">'sort'</span>, <span class="string">'splice'</span>, <span class="string">'unshift'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> method = ArrayProto[name];</div><div class="line">    _.prototype[name] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> obj = <span class="keyword">this</span>._wrapped;</div><div class="line">      method.apply(obj, <span class="built_in">arguments</span>);</div><div class="line">      <span class="keyword">if</span> ((name === <span class="string">'shift'</span> || name === <span class="string">'splice'</span>) &amp;&amp; obj.length === <span class="number">0</span>) <span class="keyword">delete</span> obj[<span class="number">0</span>];</div><div class="line">      <span class="keyword">return</span> result(<span class="keyword">this</span>, obj);</div><div class="line">    &#125;;</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="comment">// Add all accessor Array functions to the wrapper.</span></div><div class="line">  _.each([<span class="string">'concat'</span>, <span class="string">'join'</span>, <span class="string">'slice'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> method = ArrayProto[name];</div><div class="line">    _.prototype[name] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> result(<span class="keyword">this</span>, method.apply(<span class="keyword">this</span>._wrapped, <span class="built_in">arguments</span>));</div><div class="line">    &#125;;</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="comment">// Extracts the result from a wrapped and chained object.</span></div><div class="line">  _.prototype.value = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._wrapped;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// Provide unwrapping proxy for some methods used in engine operations</span></div><div class="line">  <span class="comment">// such as arithmetic and JSON stringification.</span></div><div class="line">  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;</div><div class="line"></div><div class="line">  _.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">''</span> + <span class="keyword">this</span>._wrapped;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// AMD registration happens at the end for compatibility with AMD loaders</span></div><div class="line">  <span class="comment">// that may not enforce next-turn semantics on modules. Even though general</span></div><div class="line">  <span class="comment">// practice for AMD registration is to be anonymous, underscore registers</span></div><div class="line">  <span class="comment">// as a named module because, like jQuery, it is a base library that is</span></div><div class="line">  <span class="comment">// popular enough to be bundled in a third party lib, but not be part of</span></div><div class="line">  <span class="comment">// an AMD load request. Those cases could generate an error when an</span></div><div class="line">  <span class="comment">// anonymous define() is called outside of a loader request.</span></div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">'function'</span> &amp;&amp; define.amd) &#123;</div><div class="line">    define(<span class="string">'underscore'</span>, [], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> _;</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;.call(<span class="keyword">this</span>));</div></pre></td></tr></table></figure>


                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2016/05/19/understore-analysis/" data-toggle="tooltip" data-placement="top" title="Understore">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2016/02/01/some-people-will-never-see-your-value-and-that-is-ok/" data-toggle="tooltip" data-placement="top" title="Some people will never see your value and that's is ok">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                

                
                <!-- disqus 评论框 start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus 评论框 end -->
                

            </div>
    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#前端工具" title="前端工具">前端工具</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="http://blog.kaijun.rocks" target="_blank">Kaijun&#39;s Blog</a></li>
                    
                        <li><a href="http://huangxuan.me" target="_blank">Hux Blog</a></li>
                    
                        <li><a href="#" target="_blank">Foo</a></li>
                    
                        <li><a href="#" target="_blank">Bar</a></li>
                    
                        <li><a href="#" target="_blank">Example Friends</a></li>
                    
                        <li><a href="#" target="_blank">It helps SEO</a></li>
                    
                </ul>
                
            </div>

        </div>
    </div>
</article>




<!-- disqus 公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "blog-asherjia-com";
    var disqus_identifier = "http://blog.asherjia.com/2016/05/19/underscore/";
    var disqus_url = "http://blog.asherjia.com/2016/05/19/underscore/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus 公共JS代码 end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                    <li>
                        <a target="_blank" href="https://twitter.com/asherjia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/asherjia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/asherjia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/asherjia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Asher&#39;s Blog 2018 
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    Ported by <a href="http://blog.kaijun.rocks">Kaijun</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=kaijun&repo=hexo-theme-huxblog&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://blog.asherjia.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->




<!-- Baidu Tongji -->


<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.post-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>





<!-- Image to hack wechat -->
<img src="http://blog.asherjia.com/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
